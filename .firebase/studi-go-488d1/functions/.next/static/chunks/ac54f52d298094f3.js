(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,93500,e=>{"use strict";let t;var r,a=e.i(33067),s=e.i(67437),o=e.i(28917),l=e.i(23007),n=e.i(79080),i=e.i(49275);e.i(61401),e.i(57837),e.i(74331),e.i(7893);var d=e.i(62581);let c={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function m(e){d.config({customError:e})}function x(){return d.config().customError}r||(r={}),e.s(["ZodFirstPartyTypeKind",()=>r,"ZodIssueCode",0,c,"getErrorMap",()=>x,"setErrorMap",()=>m],30885);var h=e.i(71888),u=e.i(94447),p=e.i(15328),g=e.i(44403);e.s(["endsWith",()=>g._endsWith,"gt",()=>g._gt,"gte",()=>g._gte,"includes",()=>g._includes,"length",()=>g._length,"lowercase",()=>g._lowercase,"lt",()=>g._lt,"lte",()=>g._lte,"maxLength",()=>g._maxLength,"maxSize",()=>g._maxSize,"mime",()=>g._mime,"minLength",()=>g._minLength,"minSize",()=>g._minSize,"multipleOf",()=>g._multipleOf,"negative",()=>g._negative,"nonnegative",()=>g._nonnegative,"nonpositive",()=>g._nonpositive,"normalize",()=>g._normalize,"overwrite",()=>g._overwrite,"positive",()=>g._positive,"property",()=>g._property,"regex",()=>g._regex,"size",()=>g._size,"slugify",()=>g._slugify,"startsWith",()=>g._startsWith,"toLowerCase",()=>g._toLowerCase,"toUpperCase",()=>g._toUpperCase,"trim",()=>g._trim,"uppercase",()=>g._uppercase],26371);e.i(26371),e.i(4942);function b(e){return g._coercedString(i.ZodString,e)}function j(e){return g._coercedNumber(i.ZodNumber,e)}function f(e){return g._coercedBoolean(i.ZodBoolean,e)}function y(e){return g._coercedBigint(i.ZodBigInt,e)}function N(e){return g._coercedDate(i.ZodDate,e)}e.i(28700),e.s(["bigint",()=>y,"boolean",()=>f,"date",()=>N,"number",()=>j,"string",()=>b],22516),(0,d.config)((0,h.default)()),e.s([],7166),e.i(7166);var v=e.i(94332),w=e.i(94979),C=e.i(96761),_=e.i(61180),F=e.i(61932),k=e.i(40926),$=e.i(27144),S=e.i(3091),Z=e.i(62367),I=e.i(18832),T=e.i(90766),D=e.i(86684),L=e.i(63271),M=e.i(86244),R=e.i(13546),P=e.i(33348),A=e.i(23699),E=e.i(13072),z=e.i(71761),U=e.i(30534),O=e.i(76226),B=e.i(34818),H=e.i(94024),V=e.i(87759),W=e.i(33090),q=e.i(39959),J=e.i(781),K=e.i(32822),G=e.i(32168),X=e.i(81689),Y=e.i(54950),Q=e.i(654),ee=e.i(27715),et=e.i(45956),er=e.i(26981),ea=e.i(76627),es=e.i(12939),eo=e.i(26985),el=e.i(23737),en=e.i(24407),ei=e.i(1831),ed=e.i(5205),ec=e.i(95548),em=e.i(44080),ex=e.i(73133),eh=e.i(8891),eu=e.i(54796),ep=e.i(1357),eg=e.i(46476),eb=e.i(18447),ej=e.i(52576),ef=e.i(91798),ey=e.i(20187),eN=e.i(62036),ev=e.i(20932);e.s(["ar",()=>S.default,"az",()=>Z.default,"be",()=>I.default,"bg",()=>T.default,"ca",()=>D.default,"cs",()=>L.default,"da",()=>M.default,"de",()=>R.default,"en",()=>h.default,"eo",()=>P.default,"es",()=>A.default,"fa",()=>E.default,"fi",()=>z.default,"fr",()=>U.default,"frCA",()=>O.default,"he",()=>B.default,"hu",()=>H.default,"hy",()=>V.default,"id",()=>W.default,"is",()=>q.default,"it",()=>J.default,"ja",()=>K.default,"ka",()=>G.default,"kh",()=>X.default,"km",()=>Y.default,"ko",()=>Q.default,"lt",()=>ee.default,"mk",()=>et.default,"ms",()=>er.default,"nl",()=>ea.default,"no",()=>es.default,"ota",()=>eo.default,"pl",()=>en.default,"ps",()=>el.default,"pt",()=>ei.default,"ru",()=>ed.default,"sl",()=>ec.default,"sv",()=>em.default,"ta",()=>ex.default,"th",()=>eh.default,"tr",()=>eu.default,"ua",()=>ep.default,"uk",()=>eg.default,"ur",()=>eb.default,"uz",()=>ej.default,"vi",()=>ef.default,"yo",()=>ev.default,"zhCN",()=>ey.default,"zhTW",()=>eN.default],16741);var ew=e.i(16741),eC=e.i(90123),e_=e.i(79559),eF=e.i(41340),ek=e.i(91317);e.s(["$ZodAny",()=>C.$ZodAny,"$ZodArray",()=>C.$ZodArray,"$ZodAsyncError",()=>d.$ZodAsyncError,"$ZodBase64",()=>C.$ZodBase64,"$ZodBase64URL",()=>C.$ZodBase64URL,"$ZodBigInt",()=>C.$ZodBigInt,"$ZodBigIntFormat",()=>C.$ZodBigIntFormat,"$ZodBoolean",()=>C.$ZodBoolean,"$ZodCIDRv4",()=>C.$ZodCIDRv4,"$ZodCIDRv6",()=>C.$ZodCIDRv6,"$ZodCUID",()=>C.$ZodCUID,"$ZodCUID2",()=>C.$ZodCUID2,"$ZodCatch",()=>C.$ZodCatch,"$ZodCheck",()=>_.$ZodCheck,"$ZodCheckBigIntFormat",()=>_.$ZodCheckBigIntFormat,"$ZodCheckEndsWith",()=>_.$ZodCheckEndsWith,"$ZodCheckGreaterThan",()=>_.$ZodCheckGreaterThan,"$ZodCheckIncludes",()=>_.$ZodCheckIncludes,"$ZodCheckLengthEquals",()=>_.$ZodCheckLengthEquals,"$ZodCheckLessThan",()=>_.$ZodCheckLessThan,"$ZodCheckLowerCase",()=>_.$ZodCheckLowerCase,"$ZodCheckMaxLength",()=>_.$ZodCheckMaxLength,"$ZodCheckMaxSize",()=>_.$ZodCheckMaxSize,"$ZodCheckMimeType",()=>_.$ZodCheckMimeType,"$ZodCheckMinLength",()=>_.$ZodCheckMinLength,"$ZodCheckMinSize",()=>_.$ZodCheckMinSize,"$ZodCheckMultipleOf",()=>_.$ZodCheckMultipleOf,"$ZodCheckNumberFormat",()=>_.$ZodCheckNumberFormat,"$ZodCheckOverwrite",()=>_.$ZodCheckOverwrite,"$ZodCheckProperty",()=>_.$ZodCheckProperty,"$ZodCheckRegex",()=>_.$ZodCheckRegex,"$ZodCheckSizeEquals",()=>_.$ZodCheckSizeEquals,"$ZodCheckStartsWith",()=>_.$ZodCheckStartsWith,"$ZodCheckStringFormat",()=>_.$ZodCheckStringFormat,"$ZodCheckUpperCase",()=>_.$ZodCheckUpperCase,"$ZodCodec",()=>C.$ZodCodec,"$ZodCustom",()=>C.$ZodCustom,"$ZodCustomStringFormat",()=>C.$ZodCustomStringFormat,"$ZodDate",()=>C.$ZodDate,"$ZodDefault",()=>C.$ZodDefault,"$ZodDiscriminatedUnion",()=>C.$ZodDiscriminatedUnion,"$ZodE164",()=>C.$ZodE164,"$ZodEmail",()=>C.$ZodEmail,"$ZodEmoji",()=>C.$ZodEmoji,"$ZodEncodeError",()=>d.$ZodEncodeError,"$ZodEnum",()=>C.$ZodEnum,"$ZodError",()=>w.$ZodError,"$ZodExactOptional",()=>C.$ZodExactOptional,"$ZodFile",()=>C.$ZodFile,"$ZodFunction",()=>C.$ZodFunction,"$ZodGUID",()=>C.$ZodGUID,"$ZodIPv4",()=>C.$ZodIPv4,"$ZodIPv6",()=>C.$ZodIPv6,"$ZodISODate",()=>C.$ZodISODate,"$ZodISODateTime",()=>C.$ZodISODateTime,"$ZodISODuration",()=>C.$ZodISODuration,"$ZodISOTime",()=>C.$ZodISOTime,"$ZodIntersection",()=>C.$ZodIntersection,"$ZodJWT",()=>C.$ZodJWT,"$ZodKSUID",()=>C.$ZodKSUID,"$ZodLazy",()=>C.$ZodLazy,"$ZodLiteral",()=>C.$ZodLiteral,"$ZodMAC",()=>C.$ZodMAC,"$ZodMap",()=>C.$ZodMap,"$ZodNaN",()=>C.$ZodNaN,"$ZodNanoID",()=>C.$ZodNanoID,"$ZodNever",()=>C.$ZodNever,"$ZodNonOptional",()=>C.$ZodNonOptional,"$ZodNull",()=>C.$ZodNull,"$ZodNullable",()=>C.$ZodNullable,"$ZodNumber",()=>C.$ZodNumber,"$ZodNumberFormat",()=>C.$ZodNumberFormat,"$ZodObject",()=>C.$ZodObject,"$ZodObjectJIT",()=>C.$ZodObjectJIT,"$ZodOptional",()=>C.$ZodOptional,"$ZodPipe",()=>C.$ZodPipe,"$ZodPrefault",()=>C.$ZodPrefault,"$ZodPromise",()=>C.$ZodPromise,"$ZodReadonly",()=>C.$ZodReadonly,"$ZodRealError",()=>w.$ZodRealError,"$ZodRecord",()=>C.$ZodRecord,"$ZodRegistry",()=>p.$ZodRegistry,"$ZodSet",()=>C.$ZodSet,"$ZodString",()=>C.$ZodString,"$ZodStringFormat",()=>C.$ZodStringFormat,"$ZodSuccess",()=>C.$ZodSuccess,"$ZodSymbol",()=>C.$ZodSymbol,"$ZodTemplateLiteral",()=>C.$ZodTemplateLiteral,"$ZodTransform",()=>C.$ZodTransform,"$ZodTuple",()=>C.$ZodTuple,"$ZodType",()=>C.$ZodType,"$ZodULID",()=>C.$ZodULID,"$ZodURL",()=>C.$ZodURL,"$ZodUUID",()=>C.$ZodUUID,"$ZodUndefined",()=>C.$ZodUndefined,"$ZodUnion",()=>C.$ZodUnion,"$ZodUnknown",()=>C.$ZodUnknown,"$ZodVoid",()=>C.$ZodVoid,"$ZodXID",()=>C.$ZodXID,"$ZodXor",()=>C.$ZodXor,"$brand",()=>d.$brand,"$constructor",()=>d.$constructor,"$input",()=>p.$input,"$output",()=>p.$output,"Doc",()=>eC.Doc,"JSONSchema",0,ek,"JSONSchemaGenerator",()=>eF.JSONSchemaGenerator,"NEVER",()=>d.NEVER,"TimePrecision",()=>g.TimePrecision,"_any",()=>g._any,"_array",()=>g._array,"_base64",()=>g._base64,"_base64url",()=>g._base64url,"_bigint",()=>g._bigint,"_boolean",()=>g._boolean,"_catch",()=>g._catch,"_check",()=>g._check,"_cidrv4",()=>g._cidrv4,"_cidrv6",()=>g._cidrv6,"_coercedBigint",()=>g._coercedBigint,"_coercedBoolean",()=>g._coercedBoolean,"_coercedDate",()=>g._coercedDate,"_coercedNumber",()=>g._coercedNumber,"_coercedString",()=>g._coercedString,"_cuid",()=>g._cuid,"_cuid2",()=>g._cuid2,"_custom",()=>g._custom,"_date",()=>g._date,"_decode",()=>v._decode,"_decodeAsync",()=>v._decodeAsync,"_default",()=>g._default,"_discriminatedUnion",()=>g._discriminatedUnion,"_e164",()=>g._e164,"_email",()=>g._email,"_emoji",()=>g._emoji,"_encode",()=>v._encode,"_encodeAsync",()=>v._encodeAsync,"_endsWith",()=>g._endsWith,"_enum",()=>g._enum,"_file",()=>g._file,"_float32",()=>g._float32,"_float64",()=>g._float64,"_gt",()=>g._gt,"_gte",()=>g._gte,"_guid",()=>g._guid,"_includes",()=>g._includes,"_int",()=>g._int,"_int32",()=>g._int32,"_int64",()=>g._int64,"_intersection",()=>g._intersection,"_ipv4",()=>g._ipv4,"_ipv6",()=>g._ipv6,"_isoDate",()=>g._isoDate,"_isoDateTime",()=>g._isoDateTime,"_isoDuration",()=>g._isoDuration,"_isoTime",()=>g._isoTime,"_jwt",()=>g._jwt,"_ksuid",()=>g._ksuid,"_lazy",()=>g._lazy,"_length",()=>g._length,"_literal",()=>g._literal,"_lowercase",()=>g._lowercase,"_lt",()=>g._lt,"_lte",()=>g._lte,"_mac",()=>g._mac,"_map",()=>g._map,"_max",()=>g._max,"_maxLength",()=>g._maxLength,"_maxSize",()=>g._maxSize,"_mime",()=>g._mime,"_min",()=>g._min,"_minLength",()=>g._minLength,"_minSize",()=>g._minSize,"_multipleOf",()=>g._multipleOf,"_nan",()=>g._nan,"_nanoid",()=>g._nanoid,"_nativeEnum",()=>g._nativeEnum,"_negative",()=>g._negative,"_never",()=>g._never,"_nonnegative",()=>g._nonnegative,"_nonoptional",()=>g._nonoptional,"_nonpositive",()=>g._nonpositive,"_normalize",()=>g._normalize,"_null",()=>g._null,"_nullable",()=>g._nullable,"_number",()=>g._number,"_optional",()=>g._optional,"_overwrite",()=>g._overwrite,"_parse",()=>v._parse,"_parseAsync",()=>v._parseAsync,"_pipe",()=>g._pipe,"_positive",()=>g._positive,"_promise",()=>g._promise,"_property",()=>g._property,"_readonly",()=>g._readonly,"_record",()=>g._record,"_refine",()=>g._refine,"_regex",()=>g._regex,"_safeDecode",()=>v._safeDecode,"_safeDecodeAsync",()=>v._safeDecodeAsync,"_safeEncode",()=>v._safeEncode,"_safeEncodeAsync",()=>v._safeEncodeAsync,"_safeParse",()=>v._safeParse,"_safeParseAsync",()=>v._safeParseAsync,"_set",()=>g._set,"_size",()=>g._size,"_slugify",()=>g._slugify,"_startsWith",()=>g._startsWith,"_string",()=>g._string,"_stringFormat",()=>g._stringFormat,"_stringbool",()=>g._stringbool,"_success",()=>g._success,"_superRefine",()=>g._superRefine,"_symbol",()=>g._symbol,"_templateLiteral",()=>g._templateLiteral,"_toLowerCase",()=>g._toLowerCase,"_toUpperCase",()=>g._toUpperCase,"_transform",()=>g._transform,"_trim",()=>g._trim,"_tuple",()=>g._tuple,"_uint32",()=>g._uint32,"_uint64",()=>g._uint64,"_ulid",()=>g._ulid,"_undefined",()=>g._undefined,"_union",()=>g._union,"_unknown",()=>g._unknown,"_uppercase",()=>g._uppercase,"_url",()=>g._url,"_uuid",()=>g._uuid,"_uuidv4",()=>g._uuidv4,"_uuidv6",()=>g._uuidv6,"_uuidv7",()=>g._uuidv7,"_void",()=>g._void,"_xid",()=>g._xid,"_xor",()=>g._xor,"clone",()=>C.clone,"config",()=>d.config,"createStandardJSONSchemaMethod",()=>e_.createStandardJSONSchemaMethod,"createToJSONSchemaMethod",()=>e_.createToJSONSchemaMethod,"decode",()=>v.decode,"decodeAsync",()=>v.decodeAsync,"describe",()=>g.describe,"encode",()=>v.encode,"encodeAsync",()=>v.encodeAsync,"extractDefs",()=>e_.extractDefs,"finalize",()=>e_.finalize,"flattenError",()=>w.flattenError,"formatError",()=>w.formatError,"globalConfig",()=>d.globalConfig,"globalRegistry",()=>p.globalRegistry,"initializeContext",()=>e_.initializeContext,"isValidBase64",()=>C.isValidBase64,"isValidBase64URL",()=>C.isValidBase64URL,"isValidJWT",()=>C.isValidJWT,"locales",0,ew,"meta",()=>g.meta,"parse",()=>v.parse,"parseAsync",()=>v.parseAsync,"prettifyError",()=>w.prettifyError,"process",()=>e_.process,"regexes",0,$,"registry",()=>p.registry,"safeDecode",()=>v.safeDecode,"safeDecodeAsync",()=>v.safeDecodeAsync,"safeEncode",()=>v.safeEncode,"safeEncodeAsync",()=>v.safeEncodeAsync,"safeParse",()=>v.safeParse,"safeParseAsync",()=>v.safeParseAsync,"toDotPath",()=>w.toDotPath,"toJSONSchema",()=>u.toJSONSchema,"treeifyError",()=>w.treeifyError,"util",0,k,"version",()=>F.version],23309),e.i(23309),e.i(30885),e.s(["$brand",()=>d.$brand,"ZodFirstPartyTypeKind",()=>r,"ZodIssueCode",0,c,"config",()=>d.config,"getErrorMap",()=>x,"setErrorMap",()=>m],71717),e.i(71717),e.i(55188),e.i(39316);var e$=e.i(22516),e$=e$,eS=e.i(76381),eZ=e.i(81002),eI=e.i(90174),eT=e.i(97034),eD=e.i(33857),eL=e.i(33438),eM=e.i(50542),eR=e.i(39247),eP=e.i(88343),eA=e.i(51367),eE=e.i(24821),ez=e.i(49540),eU=e.i(41698),eO=e.i(939),eB=e.i(32735),eH=e.i(48666),eV="Collapsible",[eW,eq]=(0,eR.createContextScope)(eV),[eJ,eK]=eW(eV),eG=s.forwardRef((e,t)=>{let{__scopeCollapsible:r,open:o,defaultOpen:l,disabled:n,onOpenChange:i,...d}=e,[c,m]=(0,ez.useControllableState)({prop:o,defaultProp:l??!1,onChange:i,caller:eV});return(0,a.jsx)(eJ,{scope:r,disabled:n,contentId:(0,eH.useId)(),open:c,onOpenToggle:s.useCallback(()=>m(e=>!e),[m]),children:(0,a.jsx)(eU.Primitive.div,{"data-state":e4(c),"data-disabled":n?"":void 0,...d,ref:t})})});eG.displayName=eV;var eX="CollapsibleTrigger",eY=s.forwardRef((e,t)=>{let{__scopeCollapsible:r,...s}=e,o=eK(eX,r);return(0,a.jsx)(eU.Primitive.button,{type:"button","aria-controls":o.contentId,"aria-expanded":o.open||!1,"data-state":e4(o.open),"data-disabled":o.disabled?"":void 0,disabled:o.disabled,...s,ref:t,onClick:(0,eE.composeEventHandlers)(e.onClick,o.onOpenToggle)})});eY.displayName=eX;var eQ="CollapsibleContent",e0=s.forwardRef((e,t)=>{let{forceMount:r,...s}=e,o=eK(eQ,e.__scopeCollapsible);return(0,a.jsx)(eB.Presence,{present:r||o.open,children:({present:e})=>(0,a.jsx)(e1,{...s,ref:t,present:e})})});e0.displayName=eQ;var e1=s.forwardRef((e,t)=>{let{__scopeCollapsible:r,present:o,children:l,...n}=e,i=eK(eQ,r),[d,c]=s.useState(o),m=s.useRef(null),x=(0,eA.useComposedRefs)(t,m),h=s.useRef(0),u=h.current,p=s.useRef(0),g=p.current,b=i.open||d,j=s.useRef(b),f=s.useRef(void 0);return s.useEffect(()=>{let e=requestAnimationFrame(()=>j.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,eO.useLayoutEffect)(()=>{let e=m.current;if(e){f.current=f.current||{transitionDuration:e.style.transitionDuration,animationName:e.style.animationName},e.style.transitionDuration="0s",e.style.animationName="none";let t=e.getBoundingClientRect();h.current=t.height,p.current=t.width,j.current||(e.style.transitionDuration=f.current.transitionDuration,e.style.animationName=f.current.animationName),c(o)}},[i.open,o]),(0,a.jsx)(eU.Primitive.div,{"data-state":e4(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!b,...n,ref:x,style:{"--radix-collapsible-content-height":u?`${u}px`:void 0,"--radix-collapsible-content-width":g?`${g}px`:void 0,...e.style},children:b&&l})});function e4(e){return e?"open":"closed"}var e2=e.i(51058),e5="Accordion",e3=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[e6,e9,e7]=(0,eP.createCollection)(e5),[e8,te]=(0,eR.createContextScope)(e5,[e7,eq]),tt=eq(),tr=s.default.forwardRef((e,t)=>{let{type:r,...s}=e;return(0,a.jsx)(e6.Provider,{scope:e.__scopeAccordion,children:"multiple"===r?(0,a.jsx)(ti,{...s,ref:t}):(0,a.jsx)(tn,{...s,ref:t})})});tr.displayName=e5;var[ta,ts]=e8(e5),[to,tl]=e8(e5,{collapsible:!1}),tn=s.default.forwardRef((e,t)=>{let{value:r,defaultValue:o,onValueChange:l=()=>{},collapsible:n=!1,...i}=e,[d,c]=(0,ez.useControllableState)({prop:r,defaultProp:o??"",onChange:l,caller:e5});return(0,a.jsx)(ta,{scope:e.__scopeAccordion,value:s.default.useMemo(()=>d?[d]:[],[d]),onItemOpen:c,onItemClose:s.default.useCallback(()=>n&&c(""),[n,c]),children:(0,a.jsx)(to,{scope:e.__scopeAccordion,collapsible:n,children:(0,a.jsx)(tm,{...i,ref:t})})})}),ti=s.default.forwardRef((e,t)=>{let{value:r,defaultValue:o,onValueChange:l=()=>{},...n}=e,[i,d]=(0,ez.useControllableState)({prop:r,defaultProp:o??[],onChange:l,caller:e5}),c=s.default.useCallback(e=>d((t=[])=>[...t,e]),[d]),m=s.default.useCallback(e=>d((t=[])=>t.filter(t=>t!==e)),[d]);return(0,a.jsx)(ta,{scope:e.__scopeAccordion,value:i,onItemOpen:c,onItemClose:m,children:(0,a.jsx)(to,{scope:e.__scopeAccordion,collapsible:!0,children:(0,a.jsx)(tm,{...n,ref:t})})})}),[td,tc]=e8(e5),tm=s.default.forwardRef((e,t)=>{let{__scopeAccordion:r,disabled:o,dir:l,orientation:n="vertical",...i}=e,d=s.default.useRef(null),c=(0,eA.useComposedRefs)(d,t),m=e9(r),x="ltr"===(0,e2.useDirection)(l),h=(0,eE.composeEventHandlers)(e.onKeyDown,e=>{if(!e3.includes(e.key))return;let t=e.target,r=m().filter(e=>!e.ref.current?.disabled),a=r.findIndex(e=>e.ref.current===t),s=r.length;if(-1===a)return;e.preventDefault();let o=a,l=s-1,i=()=>{(o=a+1)>l&&(o=0)},d=()=>{(o=a-1)<0&&(o=l)};switch(e.key){case"Home":o=0;break;case"End":o=l;break;case"ArrowRight":"horizontal"===n&&(x?i():d());break;case"ArrowDown":"vertical"===n&&i();break;case"ArrowLeft":"horizontal"===n&&(x?d():i());break;case"ArrowUp":"vertical"===n&&d()}let c=o%s;r[c].ref.current?.focus()});return(0,a.jsx)(td,{scope:r,disabled:o,direction:l,orientation:n,children:(0,a.jsx)(e6.Slot,{scope:r,children:(0,a.jsx)(eU.Primitive.div,{...i,"data-orientation":n,ref:c,onKeyDown:o?void 0:h})})})}),tx="AccordionItem",[th,tu]=e8(tx),tp=s.default.forwardRef((e,t)=>{let{__scopeAccordion:r,value:s,...o}=e,l=tc(tx,r),n=ts(tx,r),i=tt(r),d=(0,eH.useId)(),c=s&&n.value.includes(s)||!1,m=l.disabled||e.disabled;return(0,a.jsx)(th,{scope:r,open:c,disabled:m,triggerId:d,children:(0,a.jsx)(eG,{"data-orientation":l.orientation,"data-state":tv(c),...i,...o,ref:t,disabled:m,open:c,onOpenChange:e=>{e?n.onItemOpen(s):n.onItemClose(s)}})})});tp.displayName=tx;var tg="AccordionHeader",tb=s.default.forwardRef((e,t)=>{let{__scopeAccordion:r,...s}=e,o=tc(e5,r),l=tu(tg,r);return(0,a.jsx)(eU.Primitive.h3,{"data-orientation":o.orientation,"data-state":tv(l.open),"data-disabled":l.disabled?"":void 0,...s,ref:t})});tb.displayName=tg;var tj="AccordionTrigger",tf=s.default.forwardRef((e,t)=>{let{__scopeAccordion:r,...s}=e,o=tc(e5,r),l=tu(tj,r),n=tl(tj,r),i=tt(r);return(0,a.jsx)(e6.ItemSlot,{scope:r,children:(0,a.jsx)(eY,{"aria-disabled":l.open&&!n.collapsible||void 0,"data-orientation":o.orientation,id:l.triggerId,...i,...s,ref:t})})});tf.displayName=tj;var ty="AccordionContent",tN=s.default.forwardRef((e,t)=>{let{__scopeAccordion:r,...s}=e,o=tc(e5,r),l=tu(ty,r),n=tt(r);return(0,a.jsx)(e0,{role:"region","aria-labelledby":l.triggerId,"data-orientation":o.orientation,...n,...s,ref:t,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...e.style}})});function tv(e){return e?"open":"closed"}tN.displayName=ty;var tw=e.i(70076),tC=e.i(58682);function t_({...e}){return(0,a.jsx)(tr,{"data-slot":"accordion",...e})}function tF({className:e,...t}){return(0,a.jsx)(tp,{"data-slot":"accordion-item",className:(0,tC.cn)("border-b last:border-b-0",e),...t})}function tk({className:e,children:t,...r}){return(0,a.jsx)(tb,{className:"flex",children:(0,a.jsxs)(tf,{"data-slot":"accordion-trigger",className:(0,tC.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",e),...r,children:[t,(0,a.jsx)(tw.ChevronDownIcon,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function t$({className:e,children:t,...r}){return(0,a.jsx)(tN,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...r,children:(0,a.jsx)("div",{className:(0,tC.cn)("pt-0 pb-4",e),children:t})})}var tS=e.i(99189),tZ=e.i(65276),tI=e.i(28978),tT=e.i(67597),tD=e.i(79895),tL=e.i(77601),tM=e.i(98823),tR=e.i(81416);let tP=(0,tR.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var tA=e.i(90480);let tE=(0,tR.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),tz=(0,tR.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var tU=e.i(40374);let tO=(0,tR.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),tB=(0,tR.default)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var tH=e.i(63341);let tV=(0,tR.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var tW=e.i(16068),tW=tW,tq=e.i(46455);let tJ=({value:e=[],onChange:t,disabled:r})=>{let[o,l]=(0,s.useState)(!1),n=(0,s.useRef)(null),i=async r=>{if(r.target.files&&r.target.files.length>0){l(!0);let a=r.target.files[0],s=new FormData;s.append("file",a);try{let r=await fetch("/api/upload",{method:"POST",body:s}),a=await r.json();a.url?t([...e,a.url]):alert("Upload failed")}catch(e){console.error(e),alert("Something went wrong")}finally{l(!1),n.current&&(n.current.value="")}}};return(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"flex flex-wrap gap-4",children:e.map(r=>(0,a.jsxs)("div",{className:"relative w-40 h-40 rounded-md overflow-hidden border border-white/20 group",children:[(0,a.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,a.jsx)(eS.Button,{type:"button",onClick:()=>{t(e.filter(e=>e!==r))},variant:"destructive",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,a.jsx)(tW.default,{className:"h-3 w-3"})})}),(0,a.jsx)(tq.default,{fill:!0,className:"object-cover",alt:"Image",src:r})]},r))}),(0,a.jsxs)("div",{children:[(0,a.jsx)("input",{type:"file",accept:"image/*",className:"hidden",ref:n,onChange:i,disabled:r||o}),(0,a.jsxs)(eS.Button,{type:"button",variant:"secondary",disabled:r||o,onClick:()=>n.current?.click(),className:"bg-white/10 hover:bg-white/20 text-white border border-white/20",children:[(0,a.jsx)(tV,{className:"h-4 w-4 mr-2"}),o?"Uploading...":"Upload Image"]})]})]})};var tK=e.i(52958),tG=e.i(42536),tX=e.i(46968),tY=e.i(22814);let tQ=(0,tR.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),t0=(0,tR.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),t1=(0,tR.default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),t4=(0,tR.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var t2=e.i(31048),t5=e.i(74714);let t3=(0,t5.createServerReference)("40f78867e18f8376fe5c55dc7e237af08014f91a1b",t5.callServer,void 0,t5.findSourceMapURL,"fetchBookingsByStudio"),t6=(0,t5.createServerReference)("600501332cee67ba135c41c97f3745937984c9c690",t5.callServer,void 0,t5.findSourceMapURL,"updateBookingStatus");var t9=e.i(18261),t7=e.i(5728),t8=e.i(52299),re=e.i(31027),rt=e.i(62753),rr=e.i(75611);function ra(e,t){var r;return(0,rr.isSameDay)((0,rt.constructFrom)(t?.in||e,e),(r=t?.in||e,(0,rt.constructFrom)(r,Date.now())))}var rs=e.i(66522);function ro({studioId:e}){let[t,r]=(0,s.useState)([]),[o,l]=(0,s.useState)(!0),n=async()=>{l(!0),r(await t3(e)),l(!1)};(0,s.useEffect)(()=>{n()},[e]);let i=async(e,t)=>{await t6(e,t)&&n()};if(o)return(0,a.jsx)(eM.Card,{className:"bg-slate-900 border-white/10",children:(0,a.jsxs)(eM.CardContent,{className:"py-20 text-center text-gray-500 flex items-center justify-center gap-2",children:[(0,a.jsx)(tY.Loader2,{className:"animate-spin h-4 w-4"}),"読み込み中..."]})});let d=t.filter(e=>"cancelled"!==e.status&&"no_show"!==e.status),c=t.filter(e=>"cancelled"===e.status).length,m=t.filter(e=>"no_show"===e.status).length,x=t.filter(e=>"modified"===e.status).length;d.filter(e=>(0,t8.isFuture)((0,t7.parseISO)(e.date))||ra((0,t7.parseISO)(e.date))),d.filter(e=>{var t;return t=(0,t7.parseISO)(e.date),+(0,re.toDate)(t)<Date.now()&&!ra((0,t7.parseISO)(e.date))});let h=d.reduce((e,t)=>e+t.totalPrice,0);return(0,a.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10 shadow-lg",children:[(0,a.jsxs)(eM.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(eM.CardTitle,{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"有効予約"}),(0,a.jsx)(tL.Calendar,{className:"h-3 w-3 text-cyan-400"})]}),(0,a.jsx)(eM.CardContent,{children:(0,a.jsx)("div",{className:"text-2xl font-black text-white",children:d.length})})]}),(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10 shadow-lg",children:[(0,a.jsxs)(eM.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(eM.CardTitle,{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"キャンセル / 無断"}),(0,a.jsx)(tQ,{className:"h-3 w-3 text-red-500"})]}),(0,a.jsx)(eM.CardContent,{children:(0,a.jsxs)("div",{className:"text-2xl font-black text-red-500",children:[c,(0,a.jsxs)("span",{className:"text-xs text-purple-400 ml-1",children:["+",m]})]})})]}),(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10 shadow-lg",children:[(0,a.jsxs)(eM.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(eM.CardTitle,{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"内容変更"}),(0,a.jsx)(t0,{className:"h-3 w-3 text-orange-400"})]}),(0,a.jsx)(eM.CardContent,{children:(0,a.jsx)("div",{className:"text-2xl font-black text-orange-400",children:x})})]}),(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10 shadow-lg px-2",children:[(0,a.jsxs)(eM.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,a.jsx)(eM.CardTitle,{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"確定売上"}),(0,a.jsx)(tX.DollarSign,{className:"h-3 w-3 text-green-400"})]}),(0,a.jsx)(eM.CardContent,{children:(0,a.jsxs)("div",{className:"text-2xl font-black text-green-400",children:["¥",h.toLocaleString()]})})]})]}),(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10 overflow-hidden",children:[(0,a.jsxs)(eM.CardHeader,{className:"flex flex-row items-center justify-between border-b border-white/5 pb-4",children:[(0,a.jsx)(eM.CardTitle,{className:"text-xl font-black italic tracking-tighter text-cyan-400 uppercase",children:"Studio Booking Log"}),(0,a.jsxs)(eS.Button,{variant:"outline",size:"sm",onClick:n,className:"h-8 border-white/10 text-gray-400 hover:text-white",children:[(0,a.jsx)(t0,{className:"h-3 w-3 mr-2"})," 更新"]})]}),(0,a.jsx)(eM.CardContent,{className:"p-0",children:(0,a.jsxs)(tK.Table,{children:[(0,a.jsx)(tK.TableHeader,{className:"bg-white/5",children:(0,a.jsxs)(tK.TableRow,{className:"border-white/10 hover:bg-transparent",children:[(0,a.jsx)(tK.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4 px-6 text-center",children:"操作"}),(0,a.jsx)(tK.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4",children:"ID"}),(0,a.jsx)(tK.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4",children:"日時"}),(0,a.jsx)(tK.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4",children:"部屋 / 期間"}),(0,a.jsx)(tK.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4",children:"詳細"}),(0,a.jsx)(tK.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4",children:"金額"}),(0,a.jsx)(tK.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4 text-right pr-6",children:"ステータス"})]})}),(0,a.jsx)(tK.TableBody,{children:0===t.length?(0,a.jsx)(tK.TableRow,{children:(0,a.jsx)(tK.TableCell,{colSpan:7,className:"text-center py-24 text-gray-600 italic uppercase tracking-widest",children:"No bookings on record"})}):t.map(e=>{let t=(e=>{if("cancelled"===e.status)return{label:"キャンセル済",color:"bg-red-900/20 text-red-500 border-red-500/30 font-bold"};if("no_show"===e.status)return{label:"無断来店",color:"bg-purple-900/30 text-purple-400 border-purple-500/30 font-bold shadow-[0_0_10px_rgba(168,85,247,0.2)]"};if("modified"===e.status)return{label:"内容更新",color:"bg-orange-900/20 text-orange-400 border-orange-500/30"};let t=(0,t7.parseISO)(e.date);return ra(t)?{label:"今日",color:"bg-cyan-900/30 text-cyan-400 border-cyan-500/30 shadow-[0_0_10px_rgba(34,211,238,0.2)]"}:(0,t8.isFuture)(t)?{label:"予約済み",color:"bg-green-900/30 text-green-400 border-green-500/30"}:{label:"完了",color:"bg-gray-700/30 text-gray-400 border-gray-500/30"}})(e),r="cancelled"===e.status,s="no_show"===e.status;return(0,a.jsxs)(tK.TableRow,{className:`border-white/5 hover:bg-white/5 transition-colors ${r||s?"opacity-40 grayscale italic":""}`,children:[(0,a.jsx)(tK.TableCell,{className:"text-center px-6",children:(0,a.jsxs)(rs.DropdownMenu,{children:[(0,a.jsx)(rs.DropdownMenuTrigger,{asChild:!0,children:(0,a.jsx)(eS.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-white hover:bg-white/10",children:(0,a.jsx)(t1,{className:"h-4 w-4"})})}),(0,a.jsxs)(rs.DropdownMenuContent,{align:"start",className:"bg-slate-900 border-white/10 text-white shadow-2xl",children:[(0,a.jsx)(rs.DropdownMenuLabel,{className:"text-[10px] uppercase text-gray-500 font-bold px-3 py-2",children:"Status Actions"}),(0,a.jsx)(rs.DropdownMenuSeparator,{className:"bg-white/5"}),(0,a.jsxs)(rs.DropdownMenuItem,{onClick:()=>i(e.id,"active"),className:"flex items-center gap-2 hover:bg-cyan-500/20 hover:text-cyan-400 cursor-pointer",children:[(0,a.jsx)(t2.CheckCircle,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{children:"有効 (Active)"})]}),(0,a.jsxs)(rs.DropdownMenuItem,{onClick:()=>i(e.id,"no_show"),className:"flex items-center gap-2 hover:bg-purple-500/20 hover:text-purple-400 cursor-pointer text-purple-400/80",children:[(0,a.jsx)(t4,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{children:"無断来店 (No-Show)"})]}),(0,a.jsxs)(rs.DropdownMenuItem,{onClick:()=>i(e.id,"cancelled"),className:"flex items-center gap-2 hover:bg-red-500/20 hover:text-red-400 cursor-pointer text-red-400/80",children:[(0,a.jsx)(tQ,{className:"h-3.5 w-3.5"}),(0,a.jsx)("span",{children:"キャンセル処理"})]})]})]})}),(0,a.jsxs)(tK.TableCell,{className:"font-mono text-[10px] text-gray-500",children:["#",e.id.toUpperCase().substring(0,8)]}),(0,a.jsxs)(tK.TableCell,{children:[(0,a.jsx)("div",{className:"font-bold text-white text-sm",children:(0,t9.format)((0,t7.parseISO)(e.date),"yyyy/MM/dd")}),(0,a.jsxs)("div",{className:"text-[10px] text-gray-500 mt-0.5 flex items-center gap-1",children:[(0,a.jsx)(tG.Clock,{className:"h-2 w-2"})," ",e.startTime]})]}),(0,a.jsxs)(tK.TableCell,{children:[(0,a.jsx)("div",{className:"text-xs font-medium text-white",children:e.roomName||"Standard"}),(0,a.jsxs)("div",{className:"text-[10px] text-gray-500 mt-0.5",children:[e.durationHours,"時間利用"]})]}),(0,a.jsx)(tK.TableCell,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[(0,a.jsx)(tA.Users,{className:"h-3 w-3"}),e.userCount,"名様"]})}),(0,a.jsxs)(tK.TableCell,{className:`font-mono font-black ${r||s?"text-gray-500 line-through":"text-cyan-400"}`,children:["¥",e.totalPrice.toLocaleString()]}),(0,a.jsx)(tK.TableCell,{className:"text-right pr-6",children:(0,a.jsx)(tS.Badge,{variant:"outline",className:`text-[9px] px-2 py-0 border-none rounded-full ${t.color}`,children:t.label})})]},e.id)})})]})})]})]})}let rl=(0,tR.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),rn=(0,tR.default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var ri=e.i(48777);let rd=(0,tR.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var rc=e.i(69228),rm=e.i(5249);function rx(e,t){let{start:r,end:a}=function(e,t){let[r,a]=(0,rm.normalizeDates)(e,t.start,t.end);return{start:r,end:a}}(t?.in,e),s=+r>+a,o=s?+r:+a,l=s?a:r;l.setHours(0,0,0,0);let n=t?.step??1;if(!n)return[];n<0&&(n=-n,s=!s);let i=[];for(;+l<=o;)i.push((0,rt.constructFrom)(r,l)),l.setDate(l.getDate()+n),l.setHours(0,0,0,0);return s?i.reverse():i}var rh=e.i(47854);function ru({studioId:e}){let t,r,[o,l]=(0,s.useState)([]),[n,i]=(0,s.useState)(null),[d,c]=(0,s.useState)(!0);if((0,s.useEffect)(()=>{(async()=>{c(!0);let[t,r]=await Promise.all([t3(e),(0,eD.fetchStudio)(e)]);l(t),i(r),c(!1)})()},[e]),d||!n)return(0,a.jsx)("div",{className:"p-20 text-center text-gray-500",children:"分析データを計算中..."});let m=new Date,x=(0,rc.startOfMonth)(m),h=(r=(t=(0,re.toDate)(m,void 0)).getMonth(),t.setFullYear(t.getFullYear(),r+1,0),t.setHours(23,59,59,999),t),u=o.filter(e=>(function(e,t,r){let a=+(0,re.toDate)(e,void 0),[s,o]=[+(0,re.toDate)(t.start,void 0),+(0,re.toDate)(t.end,void 0)].sort((e,t)=>e-t);return a>=s&&a<=o})((0,t7.parseISO)(e.date),{start:x,end:h})),p=u.reduce((e,t)=>e+t.totalPrice,0),g=u.length,b=g>0?p/g:0,j=n.monthlyRevenueTarget||5e5,f=p/j*100,y=rx({start:x,end:h}).length,N=n.rooms?.length||1,v=u.reduce((e,t)=>e+t.durationHours,0)/(N*y*12)*100,w=(n.rooms||[]).map(e=>{let t=u.filter(t=>t.roomName===e.name),r=t.reduce((e,t)=>e+t.durationHours,0),a=t.reduce((e,t)=>e+t.totalPrice,0);return{name:e.name,occupancy:r/(12*y)*100,revenue:a,count:t.length}});return(0,a.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-700",children:[(0,a.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10 hover:border-cyan-500/50 transition-all overflow-hidden relative group",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,a.jsx)(rl,{size:48,className:"text-cyan-400"})}),(0,a.jsxs)(eM.CardHeader,{className:"pb-2",children:[(0,a.jsx)(eM.CardDescription,{className:"text-gray-400 text-xs uppercase tracking-wider",children:"今月の売上"}),(0,a.jsxs)(eM.CardTitle,{className:"text-3xl font-bold text-white flex items-baseline gap-2",children:["¥",p.toLocaleString()]})]}),(0,a.jsx)(eM.CardContent,{children:(0,a.jsxs)("div",{className:"flex items-center gap-1 text-xs text-green-400",children:[(0,a.jsx)(rd,{size:14}),(0,a.jsx)("span",{children:"前月比 +12.5%"})]})})]}),(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10 hover:border-purple-500/50 transition-all overflow-hidden relative group",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,a.jsx)(rn,{size:48,className:"text-purple-400"})}),(0,a.jsxs)(eM.CardHeader,{className:"pb-2",children:[(0,a.jsx)(eM.CardDescription,{className:"text-gray-400 text-xs uppercase tracking-wider",children:"平均予約単価 (AOV)"}),(0,a.jsxs)(eM.CardTitle,{className:"text-3xl font-bold text-white",children:["¥",Math.round(b).toLocaleString()]})]}),(0,a.jsx)(eM.CardContent,{children:(0,a.jsx)("div",{className:"text-xs text-gray-500",children:"1予約あたりの収益"})})]}),(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10 hover:border-green-500/50 transition-all overflow-hidden relative group",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,a.jsx)(tG.Clock,{size:48,className:"text-green-400"})}),(0,a.jsxs)(eM.CardHeader,{className:"pb-2",children:[(0,a.jsx)(eM.CardDescription,{className:"text-gray-400 text-xs uppercase tracking-wider",children:"全室稼働率"}),(0,a.jsxs)(eM.CardTitle,{className:"text-3xl font-bold text-green-400",children:[v.toFixed(1),"%"]})]}),(0,a.jsx)(eM.CardContent,{children:(0,a.jsx)("div",{className:"w-full bg-white/5 h-1.5 rounded-full mt-1 overflow-hidden",children:(0,a.jsx)(rh.motion.div,{initial:{width:0},animate:{width:`${Math.min(100,v)}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-green-500"})})})]}),(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10 hover:border-orange-500/50 transition-all overflow-hidden relative group",children:[(0,a.jsx)("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,a.jsx)(ri.Target,{size:48,className:"text-orange-400"})}),(0,a.jsxs)(eM.CardHeader,{className:"pb-2",children:[(0,a.jsx)(eM.CardDescription,{className:"text-gray-400 text-xs uppercase tracking-wider",children:"目標達成率 (予実)"}),(0,a.jsxs)(eM.CardTitle,{className:"text-3xl font-bold text-white",children:[f.toFixed(1),"%"]})]}),(0,a.jsxs)(eM.CardContent,{children:[(0,a.jsxs)("div",{className:"flex justify-between text-[10px] text-gray-500 mb-1",children:[(0,a.jsxs)("span",{children:["目標: ¥",(j/1e4).toLocaleString(),"万"]}),(0,a.jsxs)("span",{children:["残り: ¥",Math.max(0,j-p).toLocaleString()]})]}),(0,a.jsx)("div",{className:"w-full bg-white/5 h-1.5 rounded-full overflow-hidden",children:(0,a.jsx)(rh.motion.div,{initial:{width:0},animate:{width:`${Math.min(100,f)}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${f>=100?"bg-cyan-400":"bg-orange-500"}`})})]})]})]}),(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10",children:[(0,a.jsx)(eM.CardHeader,{children:(0,a.jsxs)(eM.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(tP,{className:"text-cyan-400 h-5 w-5"}),"部屋別稼働状況"]})}),(0,a.jsx)(eM.CardContent,{className:"space-y-6",children:w.map((e,t)=>(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsxs)("div",{className:"flex justify-between items-end",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-bold text-white",children:e.name}),(0,a.jsxs)("div",{className:"text-xs text-gray-500",children:[e.count," 予約 / 今月"]})]}),(0,a.jsxs)("div",{className:"text-right",children:[(0,a.jsxs)("div",{className:"text-lg font-mono text-cyan-400",children:[e.occupancy.toFixed(1),"%"]}),(0,a.jsxs)("div",{className:"text-[10px] text-gray-500",children:["売上: ¥",e.revenue.toLocaleString()]})]})]}),(0,a.jsx)("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:(0,a.jsx)(rh.motion.div,{initial:{width:0},animate:{width:`${Math.min(100,e.occupancy)}%`},transition:{duration:1,delay:.1*t},className:"h-full bg-gradient-to-r from-cyan-600 to-cyan-400"})})]},t))})]}),(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10",children:[(0,a.jsx)(eM.CardHeader,{children:(0,a.jsxs)(eM.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,a.jsx)(tP,{className:"text-purple-400 h-5 w-5"}),"日別売上推移"]})}),(0,a.jsxs)(eM.CardContent,{children:[(0,a.jsx)("div",{className:"h-48 flex items-end gap-1 px-2",children:rx({start:x,end:h}).map((e,t)=>{let r=u.filter(t=>(0,rr.isSameDay)((0,t7.parseISO)(t.date),e)).reduce((e,t)=>e+t.totalPrice,0),s=r/Math.max(...rx({start:x,end:h}).map(e=>u.filter(t=>(0,rr.isSameDay)((0,t7.parseISO)(t.date),e)).reduce((e,t)=>e+t.totalPrice,0)),1e4)*100;return(0,a.jsxs)("div",{className:"flex-1 flex flex-col items-center group relative",children:[(0,a.jsx)(rh.motion.div,{initial:{height:0},animate:{height:`${Math.max(2,s)}%`},className:`w-full rounded-t-sm transition-colors ${(0,rr.isSameDay)(e,m)?"bg-cyan-400":"bg-slate-700 group-hover:bg-slate-600"}`}),r>0&&(0,a.jsx)("div",{className:"absolute bottom-full mb-2 hidden group-hover:block z-10",children:(0,a.jsxs)(tS.Badge,{className:"bg-black border-cyan-500/50 text-[10px] whitespace-nowrap",children:[(0,t9.format)(e,"d日"),": ¥",r.toLocaleString()]})})]},t)})}),(0,a.jsxs)("div",{className:"flex justify-between mt-4 text-[10px] text-gray-500 border-t border-white/5 pt-2",children:[(0,a.jsx)("span",{children:(0,t9.format)(x,"yyyy/MM/dd")}),(0,a.jsx)("span",{children:(0,t9.format)(h,"yyyy/MM/dd")})]})]})]})]}),(0,a.jsx)(eM.Card,{className:"bg-cyan-950/20 border-cyan-500/20",children:(0,a.jsxs)(eM.CardContent,{className:"p-4 flex gap-4 items-center",children:[(0,a.jsx)("div",{className:"bg-cyan-500/20 p-2 rounded-lg text-cyan-400",children:(0,a.jsx)(ri.Target,{size:20})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("div",{className:"text-sm font-bold text-cyan-400",children:"AI分析インサイト"}),(0,a.jsx)("div",{className:"text-xs text-gray-400",children:v>70?"稼働率が高い状態です。ピークタイムの特別価格設定や、予備室の開放を検討してください。":v<30?"今月の稼働率が低迷しています。平日のデイタイムに向けたキャンペーンやクーポンの発行が有効です。":"安定した稼働状況です。リピート率向上のため、オプション機材の充実を推奨します。"})]})]})})]})}var rp=e.i(71246),rg=e.i(54466),rb=e.i(69932),rj="Switch",[rf,ry]=(0,eR.createContextScope)(rj),[rN,rv]=rf(rj),rw=s.forwardRef((e,t)=>{let{__scopeSwitch:r,name:o,checked:l,defaultChecked:n,required:i,disabled:d,value:c="on",onCheckedChange:m,form:x,...h}=e,[u,p]=s.useState(null),g=(0,eA.useComposedRefs)(t,e=>p(e)),b=s.useRef(!1),j=!u||x||!!u.closest("form"),[f,y]=(0,ez.useControllableState)({prop:l,defaultProp:n??!1,onChange:m,caller:rj});return(0,a.jsxs)(rN,{scope:r,checked:f,disabled:d,children:[(0,a.jsx)(eU.Primitive.button,{type:"button",role:"switch","aria-checked":f,"aria-required":i,"data-state":rk(f),"data-disabled":d?"":void 0,disabled:d,value:c,...h,ref:g,onClick:(0,eE.composeEventHandlers)(e.onClick,e=>{y(e=>!e),j&&(b.current=e.isPropagationStopped(),b.current||e.stopPropagation())})}),j&&(0,a.jsx)(rF,{control:u,bubbles:!b.current,name:o,value:c,checked:f,required:i,disabled:d,form:x,style:{transform:"translateX(-100%)"}})]})});rw.displayName=rj;var rC="SwitchThumb",r_=s.forwardRef((e,t)=>{let{__scopeSwitch:r,...s}=e,o=rv(rC,r);return(0,a.jsx)(eU.Primitive.span,{"data-state":rk(o.checked),"data-disabled":o.disabled?"":void 0,...s,ref:t})});r_.displayName=rC;var rF=s.forwardRef(({__scopeSwitch:e,control:t,checked:r,bubbles:o=!0,...l},n)=>{let i=s.useRef(null),d=(0,eA.useComposedRefs)(i,n),c=(0,rg.usePrevious)(r),m=(0,rb.useSize)(t);return s.useEffect(()=>{let e=i.current;if(!e)return;let t=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(c!==r&&t){let a=new Event("click",{bubbles:o});t.call(e,r),e.dispatchEvent(a)}},[c,r,o]),(0,a.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:r,...l,tabIndex:-1,ref:d,style:{...l.style,...m,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function rk(e){return e?"checked":"unchecked"}function r$({className:e,...t}){return(0,a.jsx)(rw,{"data-slot":"switch",className:(0,tC.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:(0,a.jsx)(r_,{"data-slot":"switch-thumb",className:(0,tC.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}rF.displayName="SwitchBubbleInput";let rS="undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),rZ=new Uint8Array(16),rI=[];for(let e=0;e<256;++e)rI.push((e+256).toString(16).slice(1));let rT=function(e,r,a){if(rS&&!r&&!e)return rS();var s=e,o=a;let l=(s=s||{}).random??s.rng?.()??function(){if(!t){if("undefined"==typeof crypto||!crypto.getRandomValues)throw Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");t=crypto.getRandomValues.bind(crypto)}return t(rZ)}();if(l.length<16)throw Error("Random bytes length must be >= 16");if(l[6]=15&l[6]|64,l[8]=63&l[8]|128,r){if((o=o||0)<0||o+16>r.length)throw RangeError(`UUID byte range ${o}:${o+15} is out of buffer bounds`);for(let e=0;e<16;++e)r[o+e]=l[e];return r}return function(e,t=0){return(rI[e[t+0]]+rI[e[t+1]]+rI[e[t+2]]+rI[e[t+3]]+"-"+rI[e[t+4]]+rI[e[t+5]]+"-"+rI[e[t+6]]+rI[e[t+7]]+"-"+rI[e[t+8]]+rI[e[t+9]]+"-"+rI[e[t+10]]+rI[e[t+11]]+rI[e[t+12]]+rI[e[t+13]]+rI[e[t+14]]+rI[e[t+15]]).toLowerCase()}(l)},rD=i.object({start:i.string(),end:i.string(),pricingType:i.enum(["fixed","discount"]).default("fixed"),price:e$.number().min(0).default(0),discountRate:e$.number().min(0).max(100).default(0)}),rL=i.object({slots:i.array(rD)}),rM=i.object({name:i.string().min(1,"スタジオ名は必須です"),description:i.string().optional(),images:i.array(i.string()).optional(),basePrice:e$.number().min(0).default(2e3),pricing:i.object({weekday:rL,saturday:rL,sundayHoliday:rL})}),rR=i.object({name:i.string().min(1,"機材名は必須です"),pricePerHour:e$.number().min(0)}),rP=i.object({id:i.string(),name:i.string().min(1,"名前は必須です"),email:i.string().email("無効なメールアドレスです"),password:i.string().optional(),role:i.enum(["admin","staff"]),createdAt:i.string()}),rA=i.object({userId:i.string(),userName:i.string(),email:i.string().optional(),reason:i.string().min(1,"理由は必須です"),createdAt:i.string()}),rE=i.object({logoSize:e$.number().min(10).max(250).default(100),backgroundColor:i.string().default("#000000"),backgroundImageUrl:i.string().optional(),backgroundType:i.enum(["color","image"]).default("color"),showMap:i.boolean().default(!0)}),rz=i.object({id:i.string(),storeName:i.string().min(1,"店舗名は必須です"),companyName:i.string().optional(),representative:i.string().optional(),representativeEmail:i.string().email("有効なメールアドレスを入力してください").optional().or(i.literal("")),manager:i.string().optional(),contactPerson:i.string().optional(),contactPersonEmail:i.string().email("有効なメールアドレスを入力してください").optional().or(i.literal("")),postalCode:i.string().optional(),address:i.string().optional(),phone:i.string().optional(),email:i.string().optional(),businessHours:i.object({weekday:i.string().optional(),saturday:i.string().optional(),sundayHoliday:i.string().optional()}),url:i.string().optional(),studioCount:e$.number().optional(),rooms:i.array(rM),equipmentOptions:i.array(rR),appealPoint:i.string().optional(),images:i.array(i.string()).optional(),monthlyRevenueTarget:e$.number().optional().default(5e5),logoUrl:i.string().optional(),invoiceNumber:i.string().optional(),studentDiscount:i.object({enabled:i.boolean().default(!1),discountType:i.enum(["amount","percentage"]).default("amount"),value:e$.number().default(0)}).optional(),otherDiscounts:i.array(i.object({name:i.string().min(1,"割引名は必須です"),enabled:i.boolean().default(!0),discountType:i.enum(["amount","percentage"]).default("amount"),value:e$.number().default(0)})).optional().default([]),personalPracticeSettings:i.object({enabled:i.boolean().default(!0),reservationWindowType:i.enum(["hours","days"]).default("days"),reservationWindowValue:e$.number().default(1),maxPeople:e$.number().default(2)}).optional(),staff:i.array(rP).optional().default([]),blacklist:i.array(rA).optional().default([]),designSettings:rE.optional()}),rU=[{start:"10:00",end:"18:00",price:2e3,pricingType:"fixed",discountRate:0},{start:"18:00",end:"24:00",price:2500,pricingType:"fixed",discountRate:0}];function rO(){let e=(0,o.useParams)(),t=(0,o.useRouter)(),r=e.id,[i,d]=(0,s.useState)(!0),[c,m]=(0,s.useState)(!1),[x,h]=(0,s.useState)("settings"),u=(0,l.useForm)({resolver:(0,n.zodResolver)(rz),defaultValues:{id:r,storeName:"",rooms:[],equipmentOptions:[],businessHours:{},appealPoint:"",images:[],monthlyRevenueTarget:5e5,logoUrl:"",staff:[],blacklist:[],designSettings:{logoSize:100,backgroundColor:"#000000",backgroundType:"color",showMap:!0}}}),{fields:p,append:g,remove:b}=(0,l.useFieldArray)({control:u.control,name:"rooms"}),{fields:j,append:f,remove:y}=(0,l.useFieldArray)({control:u.control,name:"equipmentOptions"}),{fields:N,append:v,remove:w}=(0,l.useFieldArray)({control:u.control,name:"staff"}),{fields:C,append:_,remove:F}=(0,l.useFieldArray)({control:u.control,name:"otherDiscounts"}),{fields:k,append:$,remove:S}=(0,l.useFieldArray)({control:u.control,name:"blacklist"});(0,s.useEffect)(()=>{(async()=>{if(!r)return;let e=await (0,eD.fetchStudio)(r);if(!e){alert("Studio not found"),t.push("/admin/studios");return}u.reset({...e,rooms:e.rooms?.map(e=>({...e,basePrice:e.basePrice||2e3,images:e.images||[],pricing:{weekday:{slots:e.pricing?.weekday?.slots?.map(e=>({...e,pricingType:e.pricingType||"fixed",discountRate:e.discountRate||0}))||[]},saturday:{slots:e.pricing?.saturday?.slots?.map(e=>({...e,pricingType:e.pricingType||"fixed",discountRate:e.discountRate||0}))||[]},sundayHoliday:{slots:e.pricing?.sundayHoliday?.slots?.map(e=>({...e,pricingType:e.pricingType||"fixed",discountRate:e.discountRate||0}))||[]}}}))||[],equipmentOptions:e.equipmentOptions||[],images:e.images||[],appealPoint:e.appealPoint||"",monthlyRevenueTarget:e.monthlyRevenueTarget||5e5,logoUrl:e.logoUrl||"",studentDiscount:e.studentDiscount||{enabled:!1,discountType:"amount",value:0},otherDiscounts:e.otherDiscounts||[],personalPracticeSettings:e.personalPracticeSettings||{enabled:!0,reservationWindowType:"days",reservationWindowValue:1,maxPeople:2},staff:e.staff||[],blacklist:e.blacklist||[],designSettings:e.designSettings||{logoSize:100,backgroundColor:"#000000",backgroundType:"color",showMap:!0}}),d(!1)})()},[r,t,u]);let Z=async e=>{m(!0),console.log("Saving studio data:",e);try{let t=await (0,eL.updateStudio)(e);t.success?alert("保存しました"):alert("保存失敗: "+t.message)}catch(e){console.error("Save Error:",e),alert("通信エラーが発生しました: "+e.message)}finally{m(!1)}};if(i)return(0,a.jsx)("div",{className:"p-20 text-white",children:"Loading..."});let I=["settings","staff","blacklist"].includes(x);return(0,a.jsx)(eZ.Form,{...u,children:(0,a.jsx)("div",{className:"min-h-screen bg-black text-white p-6 md:p-12 font-sans pb-40",children:(0,a.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,a.jsxs)(eS.Button,{variant:"ghost",className:"text-gray-400 pl-0 hover:text-white",onClick:()=>t.push("/admin/studios"),children:[(0,a.jsx)(tT.ArrowLeft,{className:"mr-2 h-4 w-4"})," ストア一覧に戻る"]}),(0,a.jsxs)("header",{className:"flex justify-between items-center border-b border-white/10 pb-4",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[u.watch("logoUrl")?(0,a.jsx)("div",{className:"relative w-16 h-16 rounded-xl overflow-hidden border border-white/10 bg-black shadow-lg",children:(0,a.jsx)("img",{src:u.watch("logoUrl"),alt:"Logo",className:"object-contain w-full h-full"})}):(0,a.jsx)("div",{className:"w-16 h-16 rounded-xl bg-slate-900 border border-white/10 flex items-center justify-center text-cyan-400",children:(0,a.jsx)(tM.Building2,{className:"w-8 h-8"})}),(0,a.jsxs)("div",{children:[(0,a.jsxs)("h1",{className:"text-3xl font-bold text-cyan-400 mb-2",children:["店舗管理: ",u.watch("storeName")]}),(0,a.jsxs)("p",{className:"text-gray-400",children:["ID: ",r]})]})]}),I&&(0,a.jsx)(eS.Button,{type:"button",disabled:c,onClick:u.handleSubmit(Z,e=>{console.error("Validation Errors:",e);let t=Object.keys(e).join(", ");alert(`入力内容に不備があります。以下の項目を確認してください:
${t}`);let r=document.querySelector('[aria-invalid="true"]');r&&r.scrollIntoView({behavior:"smooth",block:"center"})}),className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold px-8 shadow-[0_0_20px_rgba(6,182,212,0.4)] min-w-[140px]",children:c?(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"保存中..."]}):(0,a.jsxs)("span",{className:"flex items-center gap-2",children:[(0,a.jsx)(tD.Save,{className:"w-4 h-4"})," 設定を保存"]})})]}),(0,a.jsxs)("div",{className:"flex gap-2 border-b border-white/10",children:[(0,a.jsx)("button",{onClick:()=>h("settings"),className:`px-4 py-2 font-medium transition-colors ${"settings"===x?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:"店舗設定"}),(0,a.jsxs)("button",{onClick:()=>h("bookings"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${"bookings"===x?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,a.jsx)(tL.Calendar,{className:"h-4 w-4"}),"予約状況"]}),(0,a.jsxs)("button",{onClick:()=>h("analytics"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${"analytics"===x?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,a.jsx)(tP,{className:"h-4 w-4"}),"分析レポート"]}),(0,a.jsxs)("button",{onClick:()=>h("staff"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${"staff"===x?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,a.jsx)(tA.Users,{className:"h-4 w-4"}),"スタッフ管理"]}),(0,a.jsxs)("button",{onClick:()=>h("blacklist"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${"blacklist"===x?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,a.jsx)(tE,{className:"h-4 w-4"}),"ブラックリスト"]})]}),"bookings"===x?(0,a.jsx)(ro,{studioId:r}):"analytics"===x?(0,a.jsx)(ru,{studioId:r}):(0,a.jsxs)("form",{className:"space-y-12",onSubmit:u.handleSubmit(Z),children:["staff"===x&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"スタッフ管理"}),(0,a.jsxs)(eS.Button,{type:"button",onClick:()=>v({id:rT(),name:"",email:"",role:"staff",createdAt:new Date().toISOString()}),className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:[(0,a.jsx)(tZ.Plus,{className:"mr-2 h-4 w-4"})," スタッフを追加"]})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[N.map((e,t)=>(0,a.jsx)(eM.Card,{className:"bg-slate-900 border-white/10 p-4",children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-start",children:[(0,a.jsxs)(tS.Badge,{variant:"outline",className:"text-cyan-400 border-cyan-500/30 bg-cyan-500/5",children:["admin"===u.watch(`staff.${t}.role`)?(0,a.jsx)(tz,{className:"w-3 h-3 mr-1"}):(0,a.jsx)(tA.Users,{className:"w-3 h-3 mr-1"}),u.watch(`staff.${t}.role`)?.toUpperCase()]}),(0,a.jsx)(eS.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>w(t),className:"text-gray-500 hover:text-red-400",children:(0,a.jsx)(tI.Trash2,{className:"h-4 w-4"})})]}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`staff.${t}.name`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-gray-500",children:"名前"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,className:"bg-black border-white/10"})})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`staff.${t}.email`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsxs)(eZ.FormLabel,{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,a.jsx)(tU.Mail,{className:"w-3 h-3"})," メールアドレス"]}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,type:"email",className:"bg-black border-white/10"})})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`staff.${t}.password`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsxs)(eZ.FormLabel,{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,a.jsx)(tO,{className:"w-3 h-3"})," パスワード (変更する場合のみ入力)"]}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,type:"password",placeholder:"••••••••",className:"bg-black border-white/10"})})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`staff.${t}.role`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-gray-500",children:"権限"}),(0,a.jsxs)(rp.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(rp.SelectTrigger,{className:"bg-black border-white/10",children:(0,a.jsx)(rp.SelectValue,{placeholder:"権限を選択"})})}),(0,a.jsxs)(rp.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,a.jsx)(rp.SelectItem,{value:"admin",children:"管理者 (全機能)"}),(0,a.jsx)(rp.SelectItem,{value:"staff",children:"スタッフ (予約・接客のみ)"})]})]})]})})]})},e.id)),0===N.length&&(0,a.jsx)("div",{className:"col-span-2 py-20 text-center border border-dashed border-white/10 rounded text-gray-500",children:"スタッフが登録されていません。"})]})]}),"blacklist"===x&&(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-bold border-l-4 border-red-500 pl-3 text-red-400 lowercase",children:"// BLACKLIST"}),(0,a.jsxs)(eS.Button,{type:"button",onClick:()=>$({userId:rT(),userName:"",email:"",reason:"",createdAt:new Date().toISOString()}),className:"bg-red-900/40 hover:bg-red-800 text-red-200 border border-red-500/30",children:[(0,a.jsx)(tB,{className:"mr-2 h-4 w-4"})," ユーザーを拒否"]})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[k.map((e,t)=>(0,a.jsx)(eM.Card,{className:"bg-red-950/5 border-red-500/20 p-6",children:(0,a.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,a.jsxs)("div",{className:"flex-1 grid md:grid-cols-2 gap-4",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:`blacklist.${t}.userName`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-red-400",children:"対象者名"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,placeholder:"氏名",className:"bg-black border-red-500/20 focus:border-red-500 text-white"})})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`blacklist.${t}.email`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-red-400",children:"メールアドレス"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,type:"email",placeholder:"example@bad-user.com",className:"bg-black border-red-500/20 focus:border-red-500 text-white"})})]})}),(0,a.jsx)("div",{className:"md:col-span-2",children:(0,a.jsx)(eZ.FormField,{control:u.control,name:`blacklist.${t}.reason`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-red-400",children:"理由 (店舗内メモ)"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eT.Textarea,{...e,placeholder:"無断キャンセル、機材の破損行為など",className:"bg-black border-red-500/20 focus:border-red-500 min-h-[80px]"})})]})})})]}),(0,a.jsxs)("div",{className:"flex flex-col justify-between items-end",children:[(0,a.jsxs)(eS.Button,{type:"button",variant:"ghost",onClick:()=>S(t),className:"text-red-500 hover:bg-red-900/20",children:[(0,a.jsx)(tI.Trash2,{className:"h-5 w-5 mr-2"})," 削除"]}),(0,a.jsx)("div",{className:"text-[10px] text-red-900",children:u.watch(`blacklist.${t}.createdAt`)&&`登録日: ${new Date(u.watch(`blacklist.${t}.createdAt`)).toLocaleDateString()}`})]})]})},e.id)),0===k.length&&(0,a.jsx)("div",{className:"py-20 text-center border border-dashed border-red-500/10 rounded text-red-900/50",children:"現在、ブラックリストに登録されているユーザーはいません。"})]})]}),"settings"===x&&(0,a.jsxs)("div",{className:"space-y-12",children:[(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"基本情報"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 p-6 bg-slate-900/50 rounded-lg border border-white/10",children:[(0,a.jsxs)("div",{className:"col-span-2 flex flex-col md:flex-row gap-6 items-start pb-6 border-b border-white/5",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:"logoUrl",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{className:"flex-shrink-0",children:[(0,a.jsx)(eZ.FormLabel,{children:"店舗ロゴ"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)("div",{className:"relative w-24 h-24 rounded-2xl overflow-hidden border-2 border-dashed border-white/10 bg-black group hover:border-cyan-500/50 transition-colors",children:e.value?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:e.value,alt:"Logo",className:"object-contain w-full h-full"}),(0,a.jsx)("button",{type:"button",onClick:()=>e.onChange(""),className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:(0,a.jsx)(tI.Trash2,{className:"text-white h-6 w-6"})})]}):(0,a.jsxs)("label",{className:"inset-0 absolute flex flex-col items-center justify-center cursor-pointer text-gray-500 hover:text-cyan-400 transition-colors",children:[(0,a.jsx)(tZ.Plus,{className:"h-6 w-6 mb-1"}),(0,a.jsx)("span",{className:"text-[10px]",children:"ロゴ追加"}),(0,a.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async t=>{let r=t.target.files?.[0];if(r){let t=new FileReader;t.onloadend=()=>{e.onChange(t.result)},t.readAsDataURL(r)}}})]})}),(0,a.jsx)("div",{className:"text-[10px] text-gray-500 max-w-[150px]",children:"サイドバーや予約画面に表示される正方形のロゴをアップロードしてください。"})]})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsxs)("div",{className:"flex-1 grid gap-4 w-full",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:"storeName",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"店舗名 *"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,className:"bg-black border-white/20"})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"companyName",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"会社名"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,className:"bg-black border-white/20"})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"invoiceNumber",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"適格事業者番号 (インボイス番号)"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,placeholder:"T1234567890123",className:"bg-black border-white/20 font-mono text-cyan-400"})}),(0,a.jsx)(eZ.FormDescription,{className:"text-[10px]",children:"領収書に記載されます。"}),(0,a.jsx)(eZ.FormMessage,{})]})})]})]}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"studioCount",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"スタジオ数 *"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"number",...e,className:"bg-black border-white/20"})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"url",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"Webサイト URL *"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,className:"bg-black border-white/20"})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"monthlyRevenueTarget",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"月間売上目標 (¥)"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"number",...e,className:"bg-black border-white/20 font-mono text-orange-400"})}),(0,a.jsx)(eZ.FormDescription,{className:"text-[10px]",children:"分析ページでの予実管理に使用します。"}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(eZ.FormField,{control:u.control,name:"appealPoint",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"アピールポイント (店舗の特徴など)"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eT.Textarea,{...e,className:"bg-black border-white/20 min-h-[100px]",placeholder:"最高の音響体験。プロ仕様の機材が使い放題です。"})}),(0,a.jsx)(eZ.FormMessage,{})]})})}),(0,a.jsx)("div",{className:"col-span-2",children:(0,a.jsx)(eZ.FormField,{control:u.control,name:"images",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"店舗写真"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(tJ,{value:e.value||[],onChange:e.onChange})}),(0,a.jsx)(eZ.FormMessage,{})]})})})]})]}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold border-l-4 border-emerald-500 pl-3",children:"デザイン設定 (公開ページ)"}),(0,a.jsx)(eM.Card,{className:"bg-slate-900 border-white/10 p-6",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[(0,a.jsx)(tM.Building2,{className:"w-4 h-4 text-emerald-500"})," ロゴ設定"]}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"designSettings.logoSize",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"ロゴの大きさ (%)"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsxs)("div",{className:"flex items-center gap-4",children:[(0,a.jsx)(eI.Input,{type:"range",min:"20",max:"250",step:"5",value:e.value,onChange:t=>e.onChange(parseInt(t.target.value)),className:"accent-emerald-500 flex-1"}),(0,a.jsxs)("span",{className:"text-sm font-mono w-12 text-emerald-400",children:[e.value,"%"]})]})}),(0,a.jsx)(eZ.FormDescription,{className:"text-[10px]",children:"公開ページのヘッダーに表示されるロゴのサイズを調整します。"})]})}),(0,a.jsxs)("div",{className:"p-4 bg-black rounded border border-white/5 flex items-center justify-center min-h-[140px] relative overflow-hidden",children:[(0,a.jsx)("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"}),(0,a.jsx)("img",{src:u.watch("logoUrl")||"https://placehold.co/200x200?text=No+Logo",alt:"Preview",style:{width:`${u.watch("designSettings.logoSize")}%`,maxWidth:"100%"},className:"object-contain max-h-[120px] relative z-10 transition-all duration-300"})]})]}),(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[(0,a.jsx)(tL.Calendar,{className:"w-4 h-4 text-emerald-500"})," 背景設定"]}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"designSettings.backgroundType",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"背景の種類"}),(0,a.jsxs)(rp.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(rp.SelectTrigger,{className:"bg-black border-white/10 text-white",children:(0,a.jsx)(rp.SelectValue,{})})}),(0,a.jsxs)(rp.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,a.jsx)(rp.SelectItem,{value:"color",children:"単色"}),(0,a.jsx)(rp.SelectItem,{value:"image",children:"画像"})]})]})]})}),"color"===u.watch("designSettings.backgroundType")?(0,a.jsx)(eZ.FormField,{control:u.control,name:"designSettings.backgroundColor",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"背景色"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,a.jsx)(eI.Input,{type:"color",...e,className:"w-12 h-10 p-1 bg-black border-white/10 rounded overflow-hidden"}),(0,a.jsx)(eI.Input,{type:"text",...e,className:"bg-black border-white/10 font-mono text-emerald-400"})]})})]})}):(0,a.jsx)(eZ.FormField,{control:u.control,name:"designSettings.backgroundImageUrl",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"背景画像"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)("div",{className:"relative w-full h-32 rounded-lg overflow-hidden border-2 border-dashed border-white/10 bg-black group hover:border-emerald-500/50 transition-colors",children:e.value?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("img",{src:e.value,alt:"Background",className:"object-cover w-full h-full"}),(0,a.jsx)("button",{type:"button",onClick:()=>e.onChange(""),className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:(0,a.jsx)(tI.Trash2,{className:"text-white h-6 w-6"})})]}):(0,a.jsxs)("label",{className:"inset-0 absolute flex flex-col items-center justify-center cursor-pointer text-gray-500 hover:text-emerald-400 transition-colors",children:[(0,a.jsx)(tZ.Plus,{className:"h-6 w-6 mb-1"}),(0,a.jsx)("span",{className:"text-[10px]",children:"画像を選択"}),(0,a.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async t=>{let r=t.target.files?.[0];if(r){let t=new FileReader;t.onloadend=()=>e.onChange(t.result),t.readAsDataURL(r)}}})]})}),(0,a.jsx)(eZ.FormDescription,{className:"text-[10px]",children:"公開ページの背景全面に表示されます。"})]})})]})})]}),(0,a.jsxs)("div",{className:"space-y-6 md:col-span-2 border-t border-white/10 pt-6",children:[(0,a.jsxs)("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[(0,a.jsx)(tH.MapPin,{className:"w-4 h-4 text-emerald-500"})," 地図設定"]}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"designSettings.showMap",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border border-white/10 p-4",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(eZ.FormLabel,{className:"text-base",children:"Google Mapsを表示する"}),(0,a.jsx)(eZ.FormDescription,{className:"text-xs",children:"スタジオ詳細ページに地図を表示します。表示するには住所が正しく入力されている必要があります。"})]}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(r$,{checked:e.value,onCheckedChange:e.onChange,className:"data-[state=checked]:bg-emerald-500"})})]})})]})]})})]}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"店舗所在地・連絡先"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 p-6 bg-slate-900/50 rounded-lg border border-white/10",children:[(0,a.jsxs)("div",{className:"col-span-2 grid md:grid-cols-4 gap-4 pb-4 border-b border-white/5",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:"postalCode",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"郵便番号"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,placeholder:"123-4567",className:"bg-black border-white/20 font-mono"})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsx)("div",{className:"md:col-span-3",children:(0,a.jsx)(eZ.FormField,{control:u.control,name:"address",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"住所"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,placeholder:"東京都渋谷区...",className:"bg-black border-white/20"})}),(0,a.jsx)(eZ.FormMessage,{})]})})})]}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"phone",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"電話番号"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,placeholder:"03-1234-5678",className:"bg-black border-white/20 font-mono"})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"email",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"店舗メールアドレス"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,placeholder:"store@example.com",className:"bg-black border-white/20 font-mono"})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsxs)("div",{className:"col-span-2 grid md:grid-cols-2 gap-6 pt-4 border-t border-white/5",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:"representative",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"代表者名"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,className:"bg-black border-white/20"})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"representativeEmail",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"代表者メールアドレス"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,type:"email",className:"bg-black border-white/20 font-mono text-xs"})}),(0,a.jsx)(eZ.FormMessage,{})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:"manager",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"担当者名"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,className:"bg-black border-white/20"})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"contactPersonEmail",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"担当者メールアドレス"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,type:"email",className:"bg-black border-white/20 font-mono text-xs"})}),(0,a.jsx)(eZ.FormMessage,{})]})})]})]})]})]}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"割引設定 (学割・その他)"}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10",children:[(0,a.jsx)(eM.CardHeader,{className:"py-4 border-b border-white/5",children:(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsxs)(eM.CardTitle,{className:"text-sm font-bold flex items-center gap-2",children:[(0,a.jsx)(tA.Users,{className:"w-4 h-4 text-cyan-400"})," 学割"]}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"studentDiscount.enabled",render:({field:e})=>(0,a.jsx)(eZ.FormControl,{children:(0,a.jsxs)("div",{className:"flex items-center gap-2",children:[(0,a.jsx)("span",{className:"text-[10px] text-gray-500",children:e.value?"有効":"無効"}),(0,a.jsx)("input",{type:"checkbox",checked:e.value,onChange:e.onChange,className:"w-4 h-4 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"})]})})})]})}),(0,a.jsx)(eM.CardContent,{className:"pt-4 space-y-4",children:(0,a.jsxs)("div",{className:"flex gap-4",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:"studentDiscount.discountType",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{className:"flex-1",children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-gray-500",children:"割引形式"}),(0,a.jsxs)(rp.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(rp.SelectTrigger,{className:"bg-black border-white/10",children:(0,a.jsx)(rp.SelectValue,{})})}),(0,a.jsxs)(rp.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,a.jsx)(rp.SelectItem,{value:"amount",children:"定額 (¥)"}),(0,a.jsx)(rp.SelectItem,{value:"percentage",children:"定率 (%)"})]})]})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"studentDiscount.value",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{className:"flex-1",children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-gray-500",children:"割引額/率"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"number",...e,className:"bg-black border-white/10 font-mono text-cyan-400"})})]})})]})})]}),(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10",children:[(0,a.jsxs)(eM.CardHeader,{className:"py-4 border-b border-white/5 flex flex-row items-center justify-between",children:[(0,a.jsx)(eM.CardTitle,{className:"text-sm font-bold",children:"その他の割引"}),(0,a.jsxs)(eS.Button,{type:"button",size:"sm",onClick:()=>_({name:"",enabled:!0,discountType:"percentage",value:0}),className:"h-7 text-[10px] bg-cyan-900/40 text-cyan-400 border border-cyan-500/30",children:[(0,a.jsx)(tZ.Plus,{className:"w-3 h-3 mr-1"})," 追加"]})]}),(0,a.jsxs)(eM.CardContent,{className:"pt-4 space-y-4",children:[C.map((e,t)=>(0,a.jsxs)("div",{className:"p-3 bg-black/30 rounded border border-white/5 space-y-3",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:`otherDiscounts.${t}.name`,render:({field:e})=>(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,placeholder:"割引名 (例: 初回割引)",className:"h-7 bg-transparent border-none text-xs font-bold p-0 focus-visible:ring-0"})})}),(0,a.jsx)(eS.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>F(t),className:"h-6 w-6 text-gray-600 hover:text-red-400",children:(0,a.jsx)(tI.Trash2,{className:"h-3 w-3"})})]}),(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:`otherDiscounts.${t}.discountType`,render:({field:e})=>(0,a.jsxs)(rp.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(rp.SelectTrigger,{className:"h-7 bg-black border-white/10 text-[10px] w-24",children:(0,a.jsx)(rp.SelectValue,{})})}),(0,a.jsxs)(rp.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,a.jsx)(rp.SelectItem,{value:"amount",children:"定額"}),(0,a.jsx)(rp.SelectItem,{value:"percentage",children:"定率"})]})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`otherDiscounts.${t}.value`,render:({field:e})=>(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"number",...e,className:"h-7 bg-black border-white/10 text-[10px] font-mono"})})})]})]},e.id)),0===C.length&&(0,a.jsx)("p",{className:"text-center text-[10px] text-gray-600 py-4",children:"割引設定がありません"})]})]})]})]}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"個人練習設定"}),(0,a.jsx)(eM.Card,{className:"bg-slate-900 border-white/10",children:(0,a.jsx)(eM.CardContent,{className:"p-6",children:(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:"personalPracticeSettings.enabled",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border border-white/5 p-4 bg-black/20",children:[(0,a.jsxs)("div",{className:"space-y-0.5",children:[(0,a.jsx)(eZ.FormLabel,{className:"text-base",children:"個人練習予約の受付"}),(0,a.jsx)(eZ.FormDescription,{children:"個人練習としての予約を許可するかどうか"})]}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)("input",{type:"checkbox",checked:e.value,onChange:e.onChange,className:"w-5 h-5 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"})})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"personalPracticeSettings.maxPeople",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"利用可能人数制限 (人まで)"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"number",...e,className:"bg-black border-white/10 font-mono text-cyan-400"})}),(0,a.jsx)(eZ.FormDescription,{children:"この人数以下の場合に個人練習料金（または設定）が適用されます。"}),(0,a.jsx)(eZ.FormMessage,{})]})})]}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:"personalPracticeSettings.reservationWindowType",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"予約受付開始タイミング"}),(0,a.jsxs)(rp.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(rp.SelectTrigger,{className:"bg-black border-white/10",children:(0,a.jsx)(rp.SelectValue,{})})}),(0,a.jsxs)(rp.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,a.jsx)(rp.SelectItem,{value:"hours",children:"時間前"}),(0,a.jsx)(rp.SelectItem,{value:"days",children:"日前"})]})]})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:"personalPracticeSettings.reservationWindowValue",render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{children:"数値"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"number",...e,className:"bg-black border-white/10 font-mono text-cyan-400"})})]})})]}),(0,a.jsx)("p",{className:"text-[10px] text-gray-500",children:"例: 「24時間前」または「1日前」から個人練習の予約が可能になります。"})]})]})})})]}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center",children:[(0,a.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"スタジオ料金設定 (部屋ごと・時間ごと)"}),(0,a.jsxs)(eS.Button,{type:"button",onClick:()=>{g({name:`Studio ${p.length+1}`,description:"",images:[],basePrice:2e3,pricing:{weekday:{slots:[...rU]},saturday:{slots:[...rU]},sundayHoliday:{slots:[...rU]}}})},variant:"outline",className:"border-cyan-500 text-cyan-400 hover:bg-cyan-950",children:[(0,a.jsx)(tZ.Plus,{className:"mr-2 h-4 w-4"})," 新しいスタジオを追加"]})]}),(0,a.jsx)("div",{className:"grid gap-6",children:p.map((e,t)=>(0,a.jsxs)(eM.Card,{className:"bg-slate-900 border-white/10 overflow-hidden",children:[(0,a.jsxs)(eM.CardHeader,{className:"bg-white/5 flex flex-col gap-4 py-4",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,a.jsxs)(tS.Badge,{variant:"outline",className:"text-cyan-400 border-cyan-400",children:["Rm ",t+1]}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`rooms.${t}.name`,render:({field:e})=>(0,a.jsx)(eI.Input,{...e,placeholder:"Studio Name (e.g. A Studio)",className:"bg-black/50 border-none text-lg font-bold w-64 text-white placeholder:text-gray-600 focus-visible:ring-1 focus-visible:ring-cyan-500"})}),(0,a.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,a.jsx)("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:"基準料金:"}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`rooms.${t}.basePrice`,render:({field:e})=>(0,a.jsx)(eI.Input,{type:"number",...e,className:"h-7 w-20 bg-black/50 border-white/10 text-xs font-mono text-cyan-400"})}),(0,a.jsx)("span",{className:"text-[10px] text-gray-500",children:"円/h"})]})]}),(0,a.jsx)(eS.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>b(t),className:"text-gray-500 hover:text-red-400",children:(0,a.jsx)(tI.Trash2,{className:"h-5 w-5"})})]}),(0,a.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 w-full",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:`rooms.${t}.description`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-gray-500",children:"部屋の説明"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eT.Textarea,{...e,placeholder:"部屋の説明 (例: ドラムセット完備、10畳)",className:"bg-black/50 border-white/10 min-h-[160px]"})}),(0,a.jsx)(eZ.FormMessage,{})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`rooms.${t}.images`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-gray-500",children:"部屋の写真"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(tJ,{value:e.value||[],onChange:e.onChange})}),(0,a.jsx)(eZ.FormMessage,{})]})})]})]}),(0,a.jsx)(eM.CardContent,{className:"p-6",children:(0,a.jsx)(t_,{type:"single",collapsible:!0,className:"w-full",children:["weekday","saturday","sundayHoliday"].map(e=>(0,a.jsxs)(tF,{value:e,className:"border-white/10",children:[(0,a.jsx)(tk,{className:"hover:text-cyan-400",children:"weekday"===e?"平日料金":"saturday"===e?"土曜料金":"日祝料金"}),(0,a.jsx)(t$,{className:"pt-4",children:(0,a.jsx)("div",{className:"space-y-4",children:(u.watch(`rooms.${t}.pricing.${e}.slots`)||[]).map((r,s)=>(0,a.jsxs)("div",{className:"p-4 bg-black/20 rounded border border-white/5 space-y-4",children:[(0,a.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:`rooms.${t}.pricing.${e}.slots.${s}.start`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{className:"text-[10px] text-gray-500",children:"開始"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"text",placeholder:"10:00",...e,className:"h-8 bg-black w-20 border-white/10 text-xs"})})]})}),(0,a.jsx)("span",{className:"mb-2 text-gray-500 text-xs",children:"~"}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`rooms.${t}.pricing.${e}.slots.${s}.end`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{children:[(0,a.jsx)(eZ.FormLabel,{className:"text-[10px] text-gray-500",children:"終了"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"text",placeholder:"24:00",...e,className:"h-8 bg-black w-20 border-white/10 text-xs"})})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`rooms.${t}.pricing.${e}.slots.${s}.pricingType`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{className:"flex-1",children:[(0,a.jsx)(eZ.FormLabel,{className:"text-[10px] text-gray-500",children:"設定タイプ"}),(0,a.jsxs)(rp.Select,{onValueChange:e.onChange,defaultValue:e.value,children:[(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(rp.SelectTrigger,{className:"h-8 bg-black border-white/10 text-xs",children:(0,a.jsx)(rp.SelectValue,{})})}),(0,a.jsxs)(rp.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,a.jsx)(rp.SelectItem,{value:"fixed",children:"固定金額 (¥)"}),(0,a.jsx)(rp.SelectItem,{value:"discount",children:"割引率 (%)"})]})]})]})}),"fixed"===u.watch(`rooms.${t}.pricing.${e}.slots.${s}.pricingType`)?(0,a.jsx)(eZ.FormField,{control:u.control,name:`rooms.${t}.pricing.${e}.slots.${s}.price`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{className:"flex-1",children:[(0,a.jsx)(eZ.FormLabel,{className:"text-[10px] text-gray-500",children:"1H料金 (¥)"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"number",...e,className:"h-8 bg-black border-white/10 font-mono text-cyan-400 text-xs"})})]})}):(0,a.jsx)(eZ.FormField,{control:u.control,name:`rooms.${t}.pricing.${e}.slots.${s}.discountRate`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{className:"flex-1",children:[(0,a.jsx)(eZ.FormLabel,{className:"text-[10px] text-gray-500",children:"割引率 (%)"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"number",...e,className:"h-8 bg-black border-white/10 font-mono text-orange-400 text-xs"})})]})})]}),"discount"===u.watch(`rooms.${t}.pricing.${e}.slots.${s}.pricingType`)&&(0,a.jsx)("p",{className:"text-[10px] text-gray-500 italic",children:"※基準料金（あれば）から自動計算されます。現在は各スロットで独立して設定されています。"})]},s))})})]},e))})})]},e.id))})]}),(0,a.jsxs)("section",{className:"space-y-4",children:[(0,a.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"オプション機材"}),(0,a.jsx)(eM.Card,{className:"bg-slate-900 border-white/10",children:(0,a.jsxs)(eM.CardContent,{className:"p-6 space-y-4",children:[j.map((e,t)=>(0,a.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,a.jsx)(eZ.FormField,{control:u.control,name:`equipmentOptions.${t}.name`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{className:"flex-[2]",children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-gray-500",children:"機材名"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{...e,className:"bg-black border-white/20"})})]})}),(0,a.jsx)(eZ.FormField,{control:u.control,name:`equipmentOptions.${t}.pricePerHour`,render:({field:e})=>(0,a.jsxs)(eZ.FormItem,{className:"flex-1",children:[(0,a.jsx)(eZ.FormLabel,{className:"text-xs text-gray-500",children:"時間単価 (¥)"}),(0,a.jsx)(eZ.FormControl,{children:(0,a.jsx)(eI.Input,{type:"number",...e,className:"bg-black border-white/20"})})]})}),(0,a.jsx)(eS.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>y(t),className:"mb-1 text-gray-500 hover:text-red-400 bg-white/5",children:(0,a.jsx)(tI.Trash2,{className:"h-5 w-5"})})]},e.id)),(0,a.jsxs)(eS.Button,{type:"button",onClick:()=>f({name:"",pricePerHour:500}),variant:"outline",className:"w-full border-dashed border-white/20 text-gray-400 hover:text-cyan-400 mt-4",children:[(0,a.jsx)(tZ.Plus,{className:"mr-2 h-4 w-4"})," オプション機材を追加"]})]})})]})]})]})]})})})}e.s(["default",()=>rO],93500)}]);