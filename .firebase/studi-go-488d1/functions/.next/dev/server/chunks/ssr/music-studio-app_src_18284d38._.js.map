{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/fujinoyouichi/music-studio-app/src/actions/admin-auth.ts"],"sourcesContent":["\"use server\";\n\nimport { cookies } from 'next/headers';\nimport { redirect } from 'next/navigation';\n\nconst ADMIN_CREDENTIALS = {\n    email: \"admin@antigravity.com\",\n    password: \"admin\"\n};\n\nexport async function adminLogin(formData: FormData) {\n    const email = formData.get('email') as string;\n    const password = formData.get('password') as string;\n\n    if (email === ADMIN_CREDENTIALS.email && password === ADMIN_CREDENTIALS.password) {\n        const cookieStore = await cookies();\n        const oneDay = 24 * 60 * 60 * 1000;\n        cookieStore.set('admin_token', 'authenticated_admin_token_secure_v1', {\n            httpOnly: true,\n            path: '/',\n            expires: Date.now() + oneDay\n        });\n        return { success: true };\n    }\n\n    return { success: false, message: \"Invalid credentials\" };\n}\n\nexport async function storeLogin(studioId: string) {\n    const cookieStore = await cookies();\n    const oneDay = 24 * 60 * 60 * 1000;\n    cookieStore.set('studio_token', studioId, {\n        httpOnly: true,\n        path: '/',\n        expires: Date.now() + oneDay\n    });\n    return { success: true };\n}\n\nexport async function adminLogout() {\n    const cookieStore = await cookies();\n    cookieStore.delete('admin_token');\n    cookieStore.delete('studio_token');\n    redirect('/admin/login');\n}\n\nexport async function getAuthInfo() {\n    const cookieStore = await cookies();\n    const adminToken = cookieStore.get('admin_token');\n    const studioToken = cookieStore.get('studio_token');\n\n    return {\n        isAdmin: !!adminToken,\n        studioId: studioToken?.value || null\n    };\n}\n\nexport async function checkAdminAuth() {\n    const auth = await getAuthInfo();\n    return auth.isAdmin || !!auth.studioId;\n}\n\nexport async function requireAdminAuth() {\n    const isAuth = await checkAdminAuth();\n    if (!isAuth) {\n        redirect('/admin/login');\n    }\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAEA;AACA;AAAA;;;;;AAEA,MAAM,oBAAoB;IACtB,OAAO;IACP,UAAU;AACd;AAEO,eAAe,WAAW,QAAkB;IAC/C,MAAM,QAAQ,SAAS,GAAG,CAAC;IAC3B,MAAM,WAAW,SAAS,GAAG,CAAC;IAE9B,IAAI,UAAU,kBAAkB,KAAK,IAAI,aAAa,kBAAkB,QAAQ,EAAE;QAC9E,MAAM,cAAc,MAAM,IAAA,oKAAO;QACjC,MAAM,SAAS,KAAK,KAAK,KAAK;QAC9B,YAAY,GAAG,CAAC,eAAe,uCAAuC;YAClE,UAAU;YACV,MAAM;YACN,SAAS,KAAK,GAAG,KAAK;QAC1B;QACA,OAAO;YAAE,SAAS;QAAK;IAC3B;IAEA,OAAO;QAAE,SAAS;QAAO,SAAS;IAAsB;AAC5D;AAEO,eAAe,WAAW,QAAgB;IAC7C,MAAM,cAAc,MAAM,IAAA,oKAAO;IACjC,MAAM,SAAS,KAAK,KAAK,KAAK;IAC9B,YAAY,GAAG,CAAC,gBAAgB,UAAU;QACtC,UAAU;QACV,MAAM;QACN,SAAS,KAAK,GAAG,KAAK;IAC1B;IACA,OAAO;QAAE,SAAS;IAAK;AAC3B;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,oKAAO;IACjC,YAAY,MAAM,CAAC;IACnB,YAAY,MAAM,CAAC;IACnB,IAAA,2NAAQ,EAAC;AACb;AAEO,eAAe;IAClB,MAAM,cAAc,MAAM,IAAA,oKAAO;IACjC,MAAM,aAAa,YAAY,GAAG,CAAC;IACnC,MAAM,cAAc,YAAY,GAAG,CAAC;IAEpC,OAAO;QACH,SAAS,CAAC,CAAC;QACX,UAAU,aAAa,SAAS;IACpC;AACJ;AAEO,eAAe;IAClB,MAAM,OAAO,MAAM;IACnB,OAAO,KAAK,OAAO,IAAI,CAAC,CAAC,KAAK,QAAQ;AAC1C;AAEO,eAAe;IAClB,MAAM,SAAS,MAAM;IACrB,IAAI,CAAC,QAAQ;QACT,IAAA,2NAAQ,EAAC;IACb;AACJ;;;IAzDsB;IAkBA;IAWA;IAOA;IAWA;IAKA;;AApDA,yQAAA;AAkBA,yQAAA;AAWA,yQAAA;AAOA,yQAAA;AAWA,yQAAA;AAKA,yQAAA"}},
    {"offset": {"line": 106, "column": 0}, "map": {"version":3,"sources":["file:///Users/fujinoyouichi/music-studio-app/src/components/admin/AdminSidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminSidebar() from the server but AdminSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/music-studio-app/src/components/admin/AdminSidebar.tsx <module evaluation>\",\n    \"AdminSidebar\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,kSAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,wFACA","ignoreList":[0]}},
    {"offset": {"line": 120, "column": 0}, "map": {"version":3,"sources":["file:///Users/fujinoyouichi/music-studio-app/src/components/admin/AdminSidebar.tsx/__nextjs-internal-proxy.mjs"],"sourcesContent":["// This file is generated by next-core EcmascriptClientReferenceModule.\nimport { registerClientReference } from \"react-server-dom-turbopack/server\";\nexport const AdminSidebar = registerClientReference(\n    function() { throw new Error(\"Attempted to call AdminSidebar() from the server but AdminSidebar is on the client. It's not possible to invoke a client function from the server, it can only be rendered as a Component or passed to props of a Client Component.\"); },\n    \"[project]/music-studio-app/src/components/admin/AdminSidebar.tsx\",\n    \"AdminSidebar\",\n);\n"],"names":[],"mappings":";;;;AAAA,uEAAuE;AACvE;;AACO,MAAM,eAAe,IAAA,kSAAuB,EAC/C;IAAa,MAAM,IAAI,MAAM;AAAwO,GACrQ,oEACA","ignoreList":[0]}},
    {"offset": {"line": 134, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":""}},
    {"offset": {"line": 142, "column": 0}, "map": {"version":3,"sources":["file:///Users/fujinoyouichi/music-studio-app/src/app/admin/%28protected%29/layout.tsx"],"sourcesContent":["import { requireAdminAuth } from '@/actions/admin-auth';\nimport { AdminSidebar } from '@/components/admin/AdminSidebar';\n\nexport default async function AdminLayout({\n    children,\n}: {\n    children: React.ReactNode;\n}) {\n    // Server-side auth check\n    await requireAdminAuth();\n\n    return (\n        <div className=\"flex min-h-screen bg-black text-white selection:bg-cyan-500 selection:text-black\">\n            <AdminSidebar />\n            <main className=\"flex-1 ml-64 p-8 overflow-y-auto\">\n                {children}\n            </main>\n        </div>\n    );\n}\n"],"names":[],"mappings":";;;;;AAAA;AACA;;;;AAEe,eAAe,YAAY,EACtC,QAAQ,EAGX;IACG,yBAAyB;IACzB,MAAM,IAAA,6KAAgB;IAEtB,qBACI,wQAAC;QAAI,WAAU;;0BACX,wQAAC,qLAAY;;;;;0BACb,wQAAC;gBAAK,WAAU;0BACX;;;;;;;;;;;;AAIjB"}}]
}