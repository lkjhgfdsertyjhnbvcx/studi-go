{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///Users/fujinoyouichi/music-studio-app/src/actions/studio.ts"],"sourcesContent":["\"use server\";\n\nimport {\n    getAllStudiosFromFirestore,\n    getStudioByIdFromFirestore,\n    saveStudioToFirestore,\n    deleteStudioFromFirestore\n} from \"@/lib/db-firestore\";\nimport { StudioProfile } from \"@/lib/db-studio\";\nimport { revalidatePath } from \"next/cache\";\nimport { v4 as uuidv4 } from \"uuid\";\n\n// Get All\nexport async function fetchStudios() {\n    return getAllStudiosFromFirestore();\n}\n\n// Get One\nexport async function fetchStudio(id: string) {\n    return getStudioByIdFromFirestore(id);\n}\n\n// Upsert\nexport async function updateStudio(data: StudioProfile) {\n    try {\n        await saveStudioToFirestore(data);\n        revalidatePath(\"/studios\");\n        revalidatePath(`/studios/${data.id}`);\n        return { success: true, message: \"Studio saved successfully.\" };\n    } catch (e: any) {\n        return { success: false, message: e.message };\n    }\n}\n\n// Create New\nexport async function createNewStudioAction() {\n    const newStudio: StudioProfile = {\n        id: uuidv4(),\n        storeName: \"New Studio\",\n        representative: \"\",\n        manager: \"\",\n        contactPerson: \"\",\n        address: \"\",\n        phone: \"\",\n        email: \"\",\n        businessHours: { weekday: \"10:00-22:00\", saturday: \"10:00-22:00\", sundayHoliday: \"10:00-22:00\" },\n        url: \"\",\n        studioCount: 0,\n        rooms: [],\n        studentDiscount: { enabled: false, discountType: 'amount', value: 0 },\n        otherDiscounts: [],\n        personalPracticeSettings: { enabled: true, reservationWindowType: 'days', reservationWindowValue: 1, maxPeople: 2 },\n        designSettings: { logoSize: 100, backgroundColor: \"#000000\", backgroundType: 'color' },\n        equipmentOptions: [],\n        createdAt: new Date().toISOString()\n    };\n    await saveStudioToFirestore(newStudio);\n    revalidatePath(\"/studios\");\n    return newStudio.id;\n}\n\n// Delete\nexport async function deleteStudioAction(id: string) {\n    await deleteStudioFromFirestore(id);\n    revalidatePath(\"/studios\");\n    return { success: true };\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;AAEA;AAOA;AACA;;;;;;AAGO,eAAe;IAClB,OAAO,IAAA,qLAA0B;AACrC;AAGO,eAAe,YAAY,EAAU;IACxC,OAAO,IAAA,qLAA0B,EAAC;AACtC;AAGO,eAAe,aAAa,IAAmB;IAClD,IAAI;QACA,MAAM,IAAA,gLAAqB,EAAC;QAC5B,IAAA,yKAAc,EAAC;QACf,IAAA,yKAAc,EAAC,CAAC,SAAS,EAAE,KAAK,EAAE,EAAE;QACpC,OAAO;YAAE,SAAS;YAAM,SAAS;QAA6B;IAClE,EAAE,OAAO,GAAQ;QACb,OAAO;YAAE,SAAS;YAAO,SAAS,EAAE,OAAO;QAAC;IAChD;AACJ;AAGO,eAAe;IAClB,MAAM,YAA2B;QAC7B,IAAI,IAAA,2MAAM;QACV,WAAW;QACX,gBAAgB;QAChB,SAAS;QACT,eAAe;QACf,SAAS;QACT,OAAO;QACP,OAAO;QACP,eAAe;YAAE,SAAS;YAAe,UAAU;YAAe,eAAe;QAAc;QAC/F,KAAK;QACL,aAAa;QACb,OAAO,EAAE;QACT,iBAAiB;YAAE,SAAS;YAAO,cAAc;YAAU,OAAO;QAAE;QACpE,gBAAgB,EAAE;QAClB,0BAA0B;YAAE,SAAS;YAAM,uBAAuB;YAAQ,wBAAwB;YAAG,WAAW;QAAE;QAClH,gBAAgB;YAAE,UAAU;YAAK,iBAAiB;YAAW,gBAAgB;QAAQ;QACrF,kBAAkB,EAAE;QACpB,WAAW,IAAI,OAAO,WAAW;IACrC;IACA,MAAM,IAAA,gLAAqB,EAAC;IAC5B,IAAA,yKAAc,EAAC;IACf,OAAO,UAAU,EAAE;AACvB;AAGO,eAAe,mBAAmB,EAAU;IAC/C,MAAM,IAAA,oLAAyB,EAAC;IAChC,IAAA,yKAAc,EAAC;IACf,OAAO;QAAE,SAAS;IAAK;AAC3B;;;IArDsB;IAKA;IAKA;IAYA;IA2BA;;AAjDA,yQAAA;AAKA,yQAAA;AAKA,yQAAA;AAYA,yQAAA;AA2BA,yQAAA"}},
    {"offset": {"line": 113, "column": 0}, "map": {"version":3,"sources":["file:///Users/fujinoyouichi/music-studio-app/src/lib/db-local.ts"],"sourcesContent":["import {\n    getAllBookingsFromFirestore,\n    getBookingByIdFromFirestore,\n    saveBookingToFirestore,\n    updateBookingInFirestore,\n    checkAvailabilityFromFirestore\n} from './db-firestore';\n\nexport interface Booking {\n    id: string;\n    userId: string;\n    studioId: string;\n    roomName?: string;\n    date: string;       // YYYY-MM-DD\n    startTime: string;  // HH:mm\n    durationHours: number;\n    userCount: number;\n    totalPrice: number;\n    status: 'active' | 'cancelled' | 'modified' | 'no_show';\n    createdAt: string;\n    isPersonalPractice?: boolean;\n}\n\nexport const getBookings = async (): Promise<Booking[]> => {\n    return getAllBookingsFromFirestore();\n};\n\nexport const getBookingById = async (id: string): Promise<Booking | undefined> => {\n    return getBookingByIdFromFirestore(id);\n};\n\nexport const saveBooking = async (booking: Booking): Promise<void> => {\n    await saveBookingToFirestore(booking);\n};\n\nexport const updateBooking = async (id: string, updates: Partial<Booking>): Promise<boolean> => {\n    return updateBookingInFirestore(id, updates);\n};\n\n// Check for overlaps\nexport const checkAvailability = async (\n    studioId: string,\n    roomName: string | undefined,\n    date: string,\n    startTime: string,\n    duration: number,\n    excludeBookingId?: string\n): Promise<boolean> => {\n    return checkAvailabilityFromFirestore(studioId, roomName, date, startTime, duration, excludeBookingId);\n};\n"],"names":[],"mappings":";;;;;;;;;;;;AAAA;;AAuBO,MAAM,cAAc;IACvB,OAAO,IAAA,sLAA2B;AACtC;AAEO,MAAM,iBAAiB,OAAO;IACjC,OAAO,IAAA,sLAA2B,EAAC;AACvC;AAEO,MAAM,cAAc,OAAO;IAC9B,MAAM,IAAA,iLAAsB,EAAC;AACjC;AAEO,MAAM,gBAAgB,OAAO,IAAY;IAC5C,OAAO,IAAA,mLAAwB,EAAC,IAAI;AACxC;AAGO,MAAM,oBAAoB,OAC7B,UACA,UACA,MACA,WACA,UACA;IAEA,OAAO,IAAA,yLAA8B,EAAC,UAAU,UAAU,MAAM,WAAW,UAAU;AACzF"}},
    {"offset": {"line": 146, "column": 0}, "map": {"version":3,"sources":["file:///Users/fujinoyouichi/music-studio-app/src/actions/admin.ts"],"sourcesContent":["\"use server\";\n\nimport { getBookings } from \"@/lib/db-local\";\n\nexport async function fetchBookings() {\n    // In a real server component, we can just call the DB function directly.\n    // Or expose it as a server action if we need client-side fetching.\n    const bookings = await getBookings();\n    return bookings.sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n}\n\nexport async function fetchBookingsByStudio(studioId: string) {\n    const allBookings = await getBookings();\n    return allBookings\n        .filter(booking => booking.studioId === studioId)\n        .sort((a, b) => new Date(b.createdAt).getTime() - new Date(a.createdAt).getTime());\n}\n\nimport { updateBooking } from \"@/lib/db-local\";\n\nexport async function updateBookingStatus(id: string, status: 'active' | 'cancelled' | 'modified' | 'no_show') {\n    return await updateBooking(id, { status });\n}\n"],"names":[],"mappings":";;;;;;;;;AAEA;;;;AAEO,eAAe;IAClB,yEAAyE;IACzE,mEAAmE;IACnE,MAAM,WAAW,MAAM,IAAA,kKAAW;IAClC,OAAO,SAAS,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;AAClG;AAEO,eAAe,sBAAsB,QAAgB;IACxD,MAAM,cAAc,MAAM,IAAA,kKAAW;IACrC,OAAO,YACF,MAAM,CAAC,CAAA,UAAW,QAAQ,QAAQ,KAAK,UACvC,IAAI,CAAC,CAAC,GAAG,IAAM,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO,KAAK,IAAI,KAAK,EAAE,SAAS,EAAE,OAAO;AACvF;;AAIO,eAAe,oBAAoB,EAAU,EAAE,MAAuD;IACzG,OAAO,MAAM,IAAA,oKAAa,EAAC,IAAI;QAAE;IAAO;AAC5C;;;IAlBsB;IAOA;IASA;;AAhBA,yQAAA;AAOA,yQAAA;AASA,yQAAA"}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///Users/fujinoyouichi/music-studio-app/.next-internal/server/app/admin/%28protected%29/page/actions.js%20%28server%20actions%20loader%29"],"sourcesContent":["export {adminLogout as '001204c5cf63a9b2296f854320112c5a87dcce6e42'} from 'ACTIONS_MODULE0'\nexport {checkAdminAuth as '00437f65ee5b42f956e8ffc66d1cb8f078eb3f7b8f'} from 'ACTIONS_MODULE0'\nexport {getAuthInfo as '0094447a595c8804f1bc342263046c499a9212ef70'} from 'ACTIONS_MODULE0'\nexport {requireAdminAuth as '00fad050e5d6ad0ce3b05eee5af53765577db154bf'} from 'ACTIONS_MODULE0'\nexport {storeLogin as '40f94cb5b752928b50e639d0b94db41445b719e91b'} from 'ACTIONS_MODULE0'\nexport {adminLogin as '6095d9b95f263e7a67fcaf6220fc022a92ad42b253'} from 'ACTIONS_MODULE0'\nexport {adminLogout as '001204c5cf63a9b2296f854320112c5a87dcce6e42'} from 'ACTIONS_MODULE0'\nexport {getAuthInfo as '0094447a595c8804f1bc342263046c499a9212ef70'} from 'ACTIONS_MODULE0'\nexport {fetchStudios as '00de754591fdaf2c4a04b598d8d123785d38cd283a'} from 'ACTIONS_MODULE1'\nexport {fetchStudio as '405932c62487fb452c306955850c3372e60cb81894'} from 'ACTIONS_MODULE1'\nexport {updateStudio as '40a99c7e57f5ffb60c7126b179428ff9a0895705a5'} from 'ACTIONS_MODULE1'\nexport {createNewStudioAction as '00074318368149362b438db185274ca5ef282e82ea'} from 'ACTIONS_MODULE1'\nexport {deleteStudioAction as '40f0b91f465b26951c09a3f17715c967e1276cad01'} from 'ACTIONS_MODULE1'\nexport {fetchBookings as '00a68c4314eb908d52d8300c546165c38d9396948b'} from 'ACTIONS_MODULE2'\nexport {fetchBookingsByStudio as '40711a429c985a6caa883c71953552fd7b21e6bbf9'} from 'ACTIONS_MODULE2'\nexport {updateBookingStatus as '608ba7991e12b182ca12b25d2660f06ee1dfa8c61b'} from 'ACTIONS_MODULE2'\n"],"names":[],"mappings":";AAAA;AAQA;AAKA"}}]
}