module.exports=[50048,a=>{"use strict";let b=(0,a.i(13035).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],50048)},4715,a=>{"use strict";var b=a.i(15334),c=a.i(94146);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},4507,a=>{"use strict";let b=(0,a.i(13035).default)("circle-alert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);a.s(["AlertCircle",()=>b],4507)},92166,a=>{"use strict";let b=(0,a.i(13035).default)("circle-check",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);a.s(["CheckCircle2",()=>b],92166)},80210,a=>{"use strict";var b=a.i(15334),c=a.i(66757),d=a.i(10425),e=a.i(4715),f=a.i(50048),g=a.i(92166),h=a.i(4507);function i(){let[a,i]=(0,c.useState)("idle"),[j,k]=(0,c.useState)([]),l=async()=>{if(confirm("JSONファイルからFirestoreへデータを移行します。よろしいですか？")){i("loading"),k(["Migration started..."]);try{let a=await fetch("/api/admin/migrate",{method:"POST"}),b=await a.json();if(b.success)i("success"),k(a=>[...a,...b.logs,"✅ Migration completed!"]);else throw Error(b.message)}catch(a){i("error"),k(b=>[...b,`❌ Error: ${a.message}`])}}};return(0,b.jsx)("div",{className:"min-h-screen bg-black text-white p-10 font-sans",children:(0,b.jsx)("div",{className:"max-w-2xl mx-auto space-y-8",children:(0,b.jsxs)(e.Card,{className:"bg-slate-900 border-white/10",children:[(0,b.jsx)(e.CardHeader,{children:(0,b.jsx)(e.CardTitle,{className:"text-2xl text-cyan-400",children:"データ移行ツール (Beta)"})}),(0,b.jsxs)(e.CardContent,{className:"space-y-6",children:[(0,b.jsx)("p",{className:"text-gray-400",children:"ローカルファイル (`data/*.json`) に保存されているスタジオ・予約・ユーザー情報を、 新しく設定した Cloud Firestore へコピーします。"}),"idle"===a&&(0,b.jsx)(d.Button,{onClick:l,className:"w-full bg-cyan-500 hover:bg-cyan-600 text-black font-bold h-12",children:"データを移行する"}),"loading"===a&&(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 py-8",children:[(0,b.jsx)(f.Loader2,{className:"h-10 w-10 animate-spin text-cyan-500"}),(0,b.jsx)("p",{children:"移行中... しばらくお待ちください"})]}),"success"===a&&(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 py-8 text-green-400",children:[(0,b.jsx)(g.CheckCircle2,{className:"h-12 w-12"}),(0,b.jsx)("p",{className:"font-bold",children:"移行が完了しました！"}),(0,b.jsx)(d.Button,{onClick:()=>window.location.href="/admin",variant:"outline",className:"border-green-900 text-green-400",children:"管理画面へ戻る"})]}),"error"===a&&(0,b.jsxs)("div",{className:"flex flex-col items-center gap-4 py-8 text-red-400",children:[(0,b.jsx)(h.AlertCircle,{className:"h-12 w-12"}),(0,b.jsx)("p",{className:"font-bold",children:"移行中にエラーが発生しました"}),(0,b.jsx)(d.Button,{onClick:()=>i("idle"),variant:"outline",className:"border-red-900 text-red-400",children:"リトライ"})]}),(0,b.jsx)("div",{className:"bg-black/50 p-4 rounded-lg font-mono text-xs overflow-y-auto max-h-48 border border-white/5 space-y-1",children:j.map((a,c)=>(0,b.jsx)("div",{children:a},c))})]})]})})})}a.s(["default",()=>i])}];

//# sourceMappingURL=music-studio-app_d54387e2._.js.map