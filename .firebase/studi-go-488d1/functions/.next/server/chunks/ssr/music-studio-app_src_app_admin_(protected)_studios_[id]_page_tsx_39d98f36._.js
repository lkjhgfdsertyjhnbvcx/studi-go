module.exports=[21041,a=>{"use strict";var b,c=a.i(15334),d=a.i(66757),e=a.i(90732),f=a.i(44493),g=a.i(61716),h=a.i(93920);a.i(7106),a.i(84629),a.i(79943),a.i(17954);var i=a.i(56006);let j={invalid_type:"invalid_type",too_big:"too_big",too_small:"too_small",invalid_format:"invalid_format",not_multiple_of:"not_multiple_of",unrecognized_keys:"unrecognized_keys",invalid_union:"invalid_union",invalid_key:"invalid_key",invalid_element:"invalid_element",invalid_value:"invalid_value",custom:"custom"};function k(a){i.config({customError:a})}function l(){return i.config().customError}b||(b={}),a.s(["ZodFirstPartyTypeKind",()=>b,"ZodIssueCode",0,j,"getErrorMap",()=>l,"setErrorMap",()=>k],25779);var m=a.i(27691),n=a.i(65732),o=a.i(58907),p=a.i(26943);a.s(["endsWith",()=>p._endsWith,"gt",()=>p._gt,"gte",()=>p._gte,"includes",()=>p._includes,"length",()=>p._length,"lowercase",()=>p._lowercase,"lt",()=>p._lt,"lte",()=>p._lte,"maxLength",()=>p._maxLength,"maxSize",()=>p._maxSize,"mime",()=>p._mime,"minLength",()=>p._minLength,"minSize",()=>p._minSize,"multipleOf",()=>p._multipleOf,"negative",()=>p._negative,"nonnegative",()=>p._nonnegative,"nonpositive",()=>p._nonpositive,"normalize",()=>p._normalize,"overwrite",()=>p._overwrite,"positive",()=>p._positive,"property",()=>p._property,"regex",()=>p._regex,"size",()=>p._size,"slugify",()=>p._slugify,"startsWith",()=>p._startsWith,"toLowerCase",()=>p._toLowerCase,"toUpperCase",()=>p._toUpperCase,"trim",()=>p._trim,"uppercase",()=>p._uppercase],38485);a.i(38485),a.i(78342);function q(a){return p._coercedString(h.ZodString,a)}function r(a){return p._coercedNumber(h.ZodNumber,a)}function s(a){return p._coercedBoolean(h.ZodBoolean,a)}function t(a){return p._coercedBigint(h.ZodBigInt,a)}function u(a){return p._coercedDate(h.ZodDate,a)}a.i(95981),a.s(["bigint",()=>t,"boolean",()=>s,"date",()=>u,"number",()=>r,"string",()=>q],43407),(0,i.config)((0,m.default)()),a.s([],41669),a.i(41669);var v=a.i(18451),w=a.i(86107),x=a.i(93107),y=a.i(34509),z=a.i(50390),A=a.i(28387),B=a.i(67157),C=a.i(16660),D=a.i(49268),E=a.i(7958),F=a.i(14404),G=a.i(33464),H=a.i(11898),I=a.i(86148),J=a.i(78279),K=a.i(7190),L=a.i(5417),M=a.i(81072),N=a.i(14963),O=a.i(82752),P=a.i(14902),Q=a.i(97947),R=a.i(51798),S=a.i(88054),T=a.i(78923),U=a.i(97948),V=a.i(73502),W=a.i(96213),X=a.i(48723),Y=a.i(16411),Z=a.i(57279),$=a.i(56923),_=a.i(92234),aa=a.i(41385),ab=a.i(50214),ac=a.i(90042),ad=a.i(50950),ae=a.i(64822),af=a.i(11212),ag=a.i(61187),ah=a.i(78480),ai=a.i(86959),aj=a.i(1028),ak=a.i(40970),al=a.i(81351),am=a.i(24483),an=a.i(77475),ao=a.i(75888),ap=a.i(11654),aq=a.i(92136),ar=a.i(57952),as=a.i(88515),at=a.i(36339),au=a.i(71560),av=a.i(96721);a.s(["ar",()=>C.default,"az",()=>D.default,"be",()=>E.default,"bg",()=>F.default,"ca",()=>G.default,"cs",()=>H.default,"da",()=>I.default,"de",()=>J.default,"en",()=>m.default,"eo",()=>K.default,"es",()=>L.default,"fa",()=>M.default,"fi",()=>N.default,"fr",()=>O.default,"frCA",()=>P.default,"he",()=>Q.default,"hu",()=>R.default,"hy",()=>S.default,"id",()=>T.default,"is",()=>U.default,"it",()=>V.default,"ja",()=>W.default,"ka",()=>X.default,"kh",()=>Y.default,"km",()=>Z.default,"ko",()=>$.default,"lt",()=>_.default,"mk",()=>aa.default,"ms",()=>ab.default,"nl",()=>ac.default,"no",()=>ad.default,"ota",()=>ae.default,"pl",()=>ag.default,"ps",()=>af.default,"pt",()=>ah.default,"ru",()=>ai.default,"sl",()=>aj.default,"sv",()=>ak.default,"ta",()=>al.default,"th",()=>am.default,"tr",()=>an.default,"ua",()=>ao.default,"uk",()=>ap.default,"ur",()=>aq.default,"uz",()=>ar.default,"vi",()=>as.default,"yo",()=>av.default,"zhCN",()=>at.default,"zhTW",()=>au.default],5217);var aw=a.i(5217),ax=a.i(87091),ay=a.i(50037),az=a.i(25628),aA=a.i(7380);a.s(["$ZodAny",()=>x.$ZodAny,"$ZodArray",()=>x.$ZodArray,"$ZodAsyncError",()=>i.$ZodAsyncError,"$ZodBase64",()=>x.$ZodBase64,"$ZodBase64URL",()=>x.$ZodBase64URL,"$ZodBigInt",()=>x.$ZodBigInt,"$ZodBigIntFormat",()=>x.$ZodBigIntFormat,"$ZodBoolean",()=>x.$ZodBoolean,"$ZodCIDRv4",()=>x.$ZodCIDRv4,"$ZodCIDRv6",()=>x.$ZodCIDRv6,"$ZodCUID",()=>x.$ZodCUID,"$ZodCUID2",()=>x.$ZodCUID2,"$ZodCatch",()=>x.$ZodCatch,"$ZodCheck",()=>y.$ZodCheck,"$ZodCheckBigIntFormat",()=>y.$ZodCheckBigIntFormat,"$ZodCheckEndsWith",()=>y.$ZodCheckEndsWith,"$ZodCheckGreaterThan",()=>y.$ZodCheckGreaterThan,"$ZodCheckIncludes",()=>y.$ZodCheckIncludes,"$ZodCheckLengthEquals",()=>y.$ZodCheckLengthEquals,"$ZodCheckLessThan",()=>y.$ZodCheckLessThan,"$ZodCheckLowerCase",()=>y.$ZodCheckLowerCase,"$ZodCheckMaxLength",()=>y.$ZodCheckMaxLength,"$ZodCheckMaxSize",()=>y.$ZodCheckMaxSize,"$ZodCheckMimeType",()=>y.$ZodCheckMimeType,"$ZodCheckMinLength",()=>y.$ZodCheckMinLength,"$ZodCheckMinSize",()=>y.$ZodCheckMinSize,"$ZodCheckMultipleOf",()=>y.$ZodCheckMultipleOf,"$ZodCheckNumberFormat",()=>y.$ZodCheckNumberFormat,"$ZodCheckOverwrite",()=>y.$ZodCheckOverwrite,"$ZodCheckProperty",()=>y.$ZodCheckProperty,"$ZodCheckRegex",()=>y.$ZodCheckRegex,"$ZodCheckSizeEquals",()=>y.$ZodCheckSizeEquals,"$ZodCheckStartsWith",()=>y.$ZodCheckStartsWith,"$ZodCheckStringFormat",()=>y.$ZodCheckStringFormat,"$ZodCheckUpperCase",()=>y.$ZodCheckUpperCase,"$ZodCodec",()=>x.$ZodCodec,"$ZodCustom",()=>x.$ZodCustom,"$ZodCustomStringFormat",()=>x.$ZodCustomStringFormat,"$ZodDate",()=>x.$ZodDate,"$ZodDefault",()=>x.$ZodDefault,"$ZodDiscriminatedUnion",()=>x.$ZodDiscriminatedUnion,"$ZodE164",()=>x.$ZodE164,"$ZodEmail",()=>x.$ZodEmail,"$ZodEmoji",()=>x.$ZodEmoji,"$ZodEncodeError",()=>i.$ZodEncodeError,"$ZodEnum",()=>x.$ZodEnum,"$ZodError",()=>w.$ZodError,"$ZodExactOptional",()=>x.$ZodExactOptional,"$ZodFile",()=>x.$ZodFile,"$ZodFunction",()=>x.$ZodFunction,"$ZodGUID",()=>x.$ZodGUID,"$ZodIPv4",()=>x.$ZodIPv4,"$ZodIPv6",()=>x.$ZodIPv6,"$ZodISODate",()=>x.$ZodISODate,"$ZodISODateTime",()=>x.$ZodISODateTime,"$ZodISODuration",()=>x.$ZodISODuration,"$ZodISOTime",()=>x.$ZodISOTime,"$ZodIntersection",()=>x.$ZodIntersection,"$ZodJWT",()=>x.$ZodJWT,"$ZodKSUID",()=>x.$ZodKSUID,"$ZodLazy",()=>x.$ZodLazy,"$ZodLiteral",()=>x.$ZodLiteral,"$ZodMAC",()=>x.$ZodMAC,"$ZodMap",()=>x.$ZodMap,"$ZodNaN",()=>x.$ZodNaN,"$ZodNanoID",()=>x.$ZodNanoID,"$ZodNever",()=>x.$ZodNever,"$ZodNonOptional",()=>x.$ZodNonOptional,"$ZodNull",()=>x.$ZodNull,"$ZodNullable",()=>x.$ZodNullable,"$ZodNumber",()=>x.$ZodNumber,"$ZodNumberFormat",()=>x.$ZodNumberFormat,"$ZodObject",()=>x.$ZodObject,"$ZodObjectJIT",()=>x.$ZodObjectJIT,"$ZodOptional",()=>x.$ZodOptional,"$ZodPipe",()=>x.$ZodPipe,"$ZodPrefault",()=>x.$ZodPrefault,"$ZodPromise",()=>x.$ZodPromise,"$ZodReadonly",()=>x.$ZodReadonly,"$ZodRealError",()=>w.$ZodRealError,"$ZodRecord",()=>x.$ZodRecord,"$ZodRegistry",()=>o.$ZodRegistry,"$ZodSet",()=>x.$ZodSet,"$ZodString",()=>x.$ZodString,"$ZodStringFormat",()=>x.$ZodStringFormat,"$ZodSuccess",()=>x.$ZodSuccess,"$ZodSymbol",()=>x.$ZodSymbol,"$ZodTemplateLiteral",()=>x.$ZodTemplateLiteral,"$ZodTransform",()=>x.$ZodTransform,"$ZodTuple",()=>x.$ZodTuple,"$ZodType",()=>x.$ZodType,"$ZodULID",()=>x.$ZodULID,"$ZodURL",()=>x.$ZodURL,"$ZodUUID",()=>x.$ZodUUID,"$ZodUndefined",()=>x.$ZodUndefined,"$ZodUnion",()=>x.$ZodUnion,"$ZodUnknown",()=>x.$ZodUnknown,"$ZodVoid",()=>x.$ZodVoid,"$ZodXID",()=>x.$ZodXID,"$ZodXor",()=>x.$ZodXor,"$brand",()=>i.$brand,"$constructor",()=>i.$constructor,"$input",()=>o.$input,"$output",()=>o.$output,"Doc",()=>ax.Doc,"JSONSchema",0,aA,"JSONSchemaGenerator",()=>az.JSONSchemaGenerator,"NEVER",()=>i.NEVER,"TimePrecision",()=>p.TimePrecision,"_any",()=>p._any,"_array",()=>p._array,"_base64",()=>p._base64,"_base64url",()=>p._base64url,"_bigint",()=>p._bigint,"_boolean",()=>p._boolean,"_catch",()=>p._catch,"_check",()=>p._check,"_cidrv4",()=>p._cidrv4,"_cidrv6",()=>p._cidrv6,"_coercedBigint",()=>p._coercedBigint,"_coercedBoolean",()=>p._coercedBoolean,"_coercedDate",()=>p._coercedDate,"_coercedNumber",()=>p._coercedNumber,"_coercedString",()=>p._coercedString,"_cuid",()=>p._cuid,"_cuid2",()=>p._cuid2,"_custom",()=>p._custom,"_date",()=>p._date,"_decode",()=>v._decode,"_decodeAsync",()=>v._decodeAsync,"_default",()=>p._default,"_discriminatedUnion",()=>p._discriminatedUnion,"_e164",()=>p._e164,"_email",()=>p._email,"_emoji",()=>p._emoji,"_encode",()=>v._encode,"_encodeAsync",()=>v._encodeAsync,"_endsWith",()=>p._endsWith,"_enum",()=>p._enum,"_file",()=>p._file,"_float32",()=>p._float32,"_float64",()=>p._float64,"_gt",()=>p._gt,"_gte",()=>p._gte,"_guid",()=>p._guid,"_includes",()=>p._includes,"_int",()=>p._int,"_int32",()=>p._int32,"_int64",()=>p._int64,"_intersection",()=>p._intersection,"_ipv4",()=>p._ipv4,"_ipv6",()=>p._ipv6,"_isoDate",()=>p._isoDate,"_isoDateTime",()=>p._isoDateTime,"_isoDuration",()=>p._isoDuration,"_isoTime",()=>p._isoTime,"_jwt",()=>p._jwt,"_ksuid",()=>p._ksuid,"_lazy",()=>p._lazy,"_length",()=>p._length,"_literal",()=>p._literal,"_lowercase",()=>p._lowercase,"_lt",()=>p._lt,"_lte",()=>p._lte,"_mac",()=>p._mac,"_map",()=>p._map,"_max",()=>p._max,"_maxLength",()=>p._maxLength,"_maxSize",()=>p._maxSize,"_mime",()=>p._mime,"_min",()=>p._min,"_minLength",()=>p._minLength,"_minSize",()=>p._minSize,"_multipleOf",()=>p._multipleOf,"_nan",()=>p._nan,"_nanoid",()=>p._nanoid,"_nativeEnum",()=>p._nativeEnum,"_negative",()=>p._negative,"_never",()=>p._never,"_nonnegative",()=>p._nonnegative,"_nonoptional",()=>p._nonoptional,"_nonpositive",()=>p._nonpositive,"_normalize",()=>p._normalize,"_null",()=>p._null,"_nullable",()=>p._nullable,"_number",()=>p._number,"_optional",()=>p._optional,"_overwrite",()=>p._overwrite,"_parse",()=>v._parse,"_parseAsync",()=>v._parseAsync,"_pipe",()=>p._pipe,"_positive",()=>p._positive,"_promise",()=>p._promise,"_property",()=>p._property,"_readonly",()=>p._readonly,"_record",()=>p._record,"_refine",()=>p._refine,"_regex",()=>p._regex,"_safeDecode",()=>v._safeDecode,"_safeDecodeAsync",()=>v._safeDecodeAsync,"_safeEncode",()=>v._safeEncode,"_safeEncodeAsync",()=>v._safeEncodeAsync,"_safeParse",()=>v._safeParse,"_safeParseAsync",()=>v._safeParseAsync,"_set",()=>p._set,"_size",()=>p._size,"_slugify",()=>p._slugify,"_startsWith",()=>p._startsWith,"_string",()=>p._string,"_stringFormat",()=>p._stringFormat,"_stringbool",()=>p._stringbool,"_success",()=>p._success,"_superRefine",()=>p._superRefine,"_symbol",()=>p._symbol,"_templateLiteral",()=>p._templateLiteral,"_toLowerCase",()=>p._toLowerCase,"_toUpperCase",()=>p._toUpperCase,"_transform",()=>p._transform,"_trim",()=>p._trim,"_tuple",()=>p._tuple,"_uint32",()=>p._uint32,"_uint64",()=>p._uint64,"_ulid",()=>p._ulid,"_undefined",()=>p._undefined,"_union",()=>p._union,"_unknown",()=>p._unknown,"_uppercase",()=>p._uppercase,"_url",()=>p._url,"_uuid",()=>p._uuid,"_uuidv4",()=>p._uuidv4,"_uuidv6",()=>p._uuidv6,"_uuidv7",()=>p._uuidv7,"_void",()=>p._void,"_xid",()=>p._xid,"_xor",()=>p._xor,"clone",()=>x.clone,"config",()=>i.config,"createStandardJSONSchemaMethod",()=>ay.createStandardJSONSchemaMethod,"createToJSONSchemaMethod",()=>ay.createToJSONSchemaMethod,"decode",()=>v.decode,"decodeAsync",()=>v.decodeAsync,"describe",()=>p.describe,"encode",()=>v.encode,"encodeAsync",()=>v.encodeAsync,"extractDefs",()=>ay.extractDefs,"finalize",()=>ay.finalize,"flattenError",()=>w.flattenError,"formatError",()=>w.formatError,"globalConfig",()=>i.globalConfig,"globalRegistry",()=>o.globalRegistry,"initializeContext",()=>ay.initializeContext,"isValidBase64",()=>x.isValidBase64,"isValidBase64URL",()=>x.isValidBase64URL,"isValidJWT",()=>x.isValidJWT,"locales",0,aw,"meta",()=>p.meta,"parse",()=>v.parse,"parseAsync",()=>v.parseAsync,"prettifyError",()=>w.prettifyError,"process",()=>ay.process,"regexes",0,B,"registry",()=>o.registry,"safeDecode",()=>v.safeDecode,"safeDecodeAsync",()=>v.safeDecodeAsync,"safeEncode",()=>v.safeEncode,"safeEncodeAsync",()=>v.safeEncodeAsync,"safeParse",()=>v.safeParse,"safeParseAsync",()=>v.safeParseAsync,"toDotPath",()=>w.toDotPath,"toJSONSchema",()=>n.toJSONSchema,"treeifyError",()=>w.treeifyError,"util",0,A,"version",()=>z.version],96990),a.i(96990),a.i(25779),a.s(["$brand",()=>i.$brand,"ZodFirstPartyTypeKind",()=>b,"ZodIssueCode",0,j,"config",()=>i.config,"getErrorMap",()=>l,"setErrorMap",()=>k],88435),a.i(88435),a.i(29451),a.i(76673);var aB=a.i(43407),aB=aB,aC=a.i(10425),aD=a.i(75631),aE=a.i(97438),aF=a.i(76483),aG=a.i(14143),aH=a.i(66698),aI=a.i(4715),aJ=a.i(22934),aK=a.i(34473),aL=a.i(13601),aM=a.i(49319),aN=a.i(70471),aO=a.i(48219),aP=a.i(96216),aQ=a.i(27024),aR=a.i(90181),aS="Collapsible",[aT,aU]=(0,aJ.createContextScope)(aS),[aV,aW]=aT(aS),aX=d.forwardRef((a,b)=>{let{__scopeCollapsible:e,open:f,defaultOpen:g,disabled:h,onOpenChange:i,...j}=a,[k,l]=(0,aN.useControllableState)({prop:f,defaultProp:g??!1,onChange:i,caller:aS});return(0,c.jsx)(aV,{scope:e,disabled:h,contentId:(0,aR.useId)(),open:k,onOpenToggle:d.useCallback(()=>l(a=>!a),[l]),children:(0,c.jsx)(aO.Primitive.div,{"data-state":a1(k),"data-disabled":h?"":void 0,...j,ref:b})})});aX.displayName=aS;var aY="CollapsibleTrigger",aZ=d.forwardRef((a,b)=>{let{__scopeCollapsible:d,...e}=a,f=aW(aY,d);return(0,c.jsx)(aO.Primitive.button,{type:"button","aria-controls":f.contentId,"aria-expanded":f.open||!1,"data-state":a1(f.open),"data-disabled":f.disabled?"":void 0,disabled:f.disabled,...e,ref:b,onClick:(0,aM.composeEventHandlers)(a.onClick,f.onOpenToggle)})});aZ.displayName=aY;var a$="CollapsibleContent",a_=d.forwardRef((a,b)=>{let{forceMount:d,...e}=a,f=aW(a$,a.__scopeCollapsible);return(0,c.jsx)(aQ.Presence,{present:d||f.open,children:({present:a})=>(0,c.jsx)(a0,{...e,ref:b,present:a})})});a_.displayName=a$;var a0=d.forwardRef((a,b)=>{let{__scopeCollapsible:e,present:f,children:g,...h}=a,i=aW(a$,e),[j,k]=d.useState(f),l=d.useRef(null),m=(0,aL.useComposedRefs)(b,l),n=d.useRef(0),o=n.current,p=d.useRef(0),q=p.current,r=i.open||j,s=d.useRef(r),t=d.useRef(void 0);return d.useEffect(()=>{let a=requestAnimationFrame(()=>s.current=!1);return()=>cancelAnimationFrame(a)},[]),(0,aP.useLayoutEffect)(()=>{let a=l.current;if(a){t.current=t.current||{transitionDuration:a.style.transitionDuration,animationName:a.style.animationName},a.style.transitionDuration="0s",a.style.animationName="none";let b=a.getBoundingClientRect();n.current=b.height,p.current=b.width,s.current||(a.style.transitionDuration=t.current.transitionDuration,a.style.animationName=t.current.animationName),k(f)}},[i.open,f]),(0,c.jsx)(aO.Primitive.div,{"data-state":a1(i.open),"data-disabled":i.disabled?"":void 0,id:i.contentId,hidden:!r,...h,ref:m,style:{"--radix-collapsible-content-height":o?`${o}px`:void 0,"--radix-collapsible-content-width":q?`${q}px`:void 0,...a.style},children:r&&g})});function a1(a){return a?"open":"closed"}var a2=a.i(8855),a3="Accordion",a4=["Home","End","ArrowDown","ArrowUp","ArrowLeft","ArrowRight"],[a5,a6,a7]=(0,aK.createCollection)(a3),[a8,a9]=(0,aJ.createContextScope)(a3,[a7,aU]),ba=aU(),bb=d.default.forwardRef((a,b)=>{let{type:d,...e}=a;return(0,c.jsx)(a5.Provider,{scope:a.__scopeAccordion,children:"multiple"===d?(0,c.jsx)(bh,{...e,ref:b}):(0,c.jsx)(bg,{...e,ref:b})})});bb.displayName=a3;var[bc,bd]=a8(a3),[be,bf]=a8(a3,{collapsible:!1}),bg=d.default.forwardRef((a,b)=>{let{value:e,defaultValue:f,onValueChange:g=()=>{},collapsible:h=!1,...i}=a,[j,k]=(0,aN.useControllableState)({prop:e,defaultProp:f??"",onChange:g,caller:a3});return(0,c.jsx)(bc,{scope:a.__scopeAccordion,value:d.default.useMemo(()=>j?[j]:[],[j]),onItemOpen:k,onItemClose:d.default.useCallback(()=>h&&k(""),[h,k]),children:(0,c.jsx)(be,{scope:a.__scopeAccordion,collapsible:h,children:(0,c.jsx)(bk,{...i,ref:b})})})}),bh=d.default.forwardRef((a,b)=>{let{value:e,defaultValue:f,onValueChange:g=()=>{},...h}=a,[i,j]=(0,aN.useControllableState)({prop:e,defaultProp:f??[],onChange:g,caller:a3}),k=d.default.useCallback(a=>j((b=[])=>[...b,a]),[j]),l=d.default.useCallback(a=>j((b=[])=>b.filter(b=>b!==a)),[j]);return(0,c.jsx)(bc,{scope:a.__scopeAccordion,value:i,onItemOpen:k,onItemClose:l,children:(0,c.jsx)(be,{scope:a.__scopeAccordion,collapsible:!0,children:(0,c.jsx)(bk,{...h,ref:b})})})}),[bi,bj]=a8(a3),bk=d.default.forwardRef((a,b)=>{let{__scopeAccordion:e,disabled:f,dir:g,orientation:h="vertical",...i}=a,j=d.default.useRef(null),k=(0,aL.useComposedRefs)(j,b),l=a6(e),m="ltr"===(0,a2.useDirection)(g),n=(0,aM.composeEventHandlers)(a.onKeyDown,a=>{if(!a4.includes(a.key))return;let b=a.target,c=l().filter(a=>!a.ref.current?.disabled),d=c.findIndex(a=>a.ref.current===b),e=c.length;if(-1===d)return;a.preventDefault();let f=d,g=e-1,i=()=>{(f=d+1)>g&&(f=0)},j=()=>{(f=d-1)<0&&(f=g)};switch(a.key){case"Home":f=0;break;case"End":f=g;break;case"ArrowRight":"horizontal"===h&&(m?i():j());break;case"ArrowDown":"vertical"===h&&i();break;case"ArrowLeft":"horizontal"===h&&(m?j():i());break;case"ArrowUp":"vertical"===h&&j()}let k=f%e;c[k].ref.current?.focus()});return(0,c.jsx)(bi,{scope:e,disabled:f,direction:g,orientation:h,children:(0,c.jsx)(a5.Slot,{scope:e,children:(0,c.jsx)(aO.Primitive.div,{...i,"data-orientation":h,ref:k,onKeyDown:f?void 0:n})})})}),bl="AccordionItem",[bm,bn]=a8(bl),bo=d.default.forwardRef((a,b)=>{let{__scopeAccordion:d,value:e,...f}=a,g=bj(bl,d),h=bd(bl,d),i=ba(d),j=(0,aR.useId)(),k=e&&h.value.includes(e)||!1,l=g.disabled||a.disabled;return(0,c.jsx)(bm,{scope:d,open:k,disabled:l,triggerId:j,children:(0,c.jsx)(aX,{"data-orientation":g.orientation,"data-state":bv(k),...i,...f,ref:b,disabled:l,open:k,onOpenChange:a=>{a?h.onItemOpen(e):h.onItemClose(e)}})})});bo.displayName=bl;var bp="AccordionHeader",bq=d.default.forwardRef((a,b)=>{let{__scopeAccordion:d,...e}=a,f=bj(a3,d),g=bn(bp,d);return(0,c.jsx)(aO.Primitive.h3,{"data-orientation":f.orientation,"data-state":bv(g.open),"data-disabled":g.disabled?"":void 0,...e,ref:b})});bq.displayName=bp;var br="AccordionTrigger",bs=d.default.forwardRef((a,b)=>{let{__scopeAccordion:d,...e}=a,f=bj(a3,d),g=bn(br,d),h=bf(br,d),i=ba(d);return(0,c.jsx)(a5.ItemSlot,{scope:d,children:(0,c.jsx)(aZ,{"aria-disabled":g.open&&!h.collapsible||void 0,"data-orientation":f.orientation,id:g.triggerId,...i,...e,ref:b})})});bs.displayName=br;var bt="AccordionContent",bu=d.default.forwardRef((a,b)=>{let{__scopeAccordion:d,...e}=a,f=bj(a3,d),g=bn(bt,d),h=ba(d);return(0,c.jsx)(a_,{role:"region","aria-labelledby":g.triggerId,"data-orientation":f.orientation,...h,...e,ref:b,style:{"--radix-accordion-content-height":"var(--radix-collapsible-content-height)","--radix-accordion-content-width":"var(--radix-collapsible-content-width)",...a.style}})});function bv(a){return a?"open":"closed"}bu.displayName=bt;var bw=a.i(66373),bx=a.i(94146);function by({...a}){return(0,c.jsx)(bb,{"data-slot":"accordion",...a})}function bz({className:a,...b}){return(0,c.jsx)(bo,{"data-slot":"accordion-item",className:(0,bx.cn)("border-b last:border-b-0",a),...b})}function bA({className:a,children:b,...d}){return(0,c.jsx)(bq,{className:"flex",children:(0,c.jsxs)(bs,{"data-slot":"accordion-trigger",className:(0,bx.cn)("focus-visible:border-ring focus-visible:ring-ring/50 flex flex-1 items-start justify-between gap-4 rounded-md py-4 text-left text-sm font-medium transition-all outline-none hover:underline focus-visible:ring-[3px] disabled:pointer-events-none disabled:opacity-50 [&[data-state=open]>svg]:rotate-180",a),...d,children:[b,(0,c.jsx)(bw.ChevronDownIcon,{className:"text-muted-foreground pointer-events-none size-4 shrink-0 translate-y-0.5 transition-transform duration-200"})]})})}function bB({className:a,children:b,...d}){return(0,c.jsx)(bu,{"data-slot":"accordion-content",className:"data-[state=closed]:animate-accordion-up data-[state=open]:animate-accordion-down overflow-hidden text-sm",...d,children:(0,c.jsx)("div",{className:(0,bx.cn)("pt-0 pb-4",a),children:b})})}var bC=a.i(86176),bD=a.i(89799),bE=a.i(86907),bF=a.i(84495),bG=a.i(9048),bH=a.i(16586),bI=a.i(45589),bJ=a.i(13035);let bK=(0,bJ.default)("chart-column",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);var bL=a.i(5557);let bM=(0,bJ.default)("ban",[["path",{d:"M4.929 4.929 19.07 19.071",key:"196cmz"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]),bN=(0,bJ.default)("shield-check",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);var bO=a.i(5089);let bP=(0,bJ.default)("lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),bQ=(0,bJ.default)("user-minus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);var bR=a.i(14617);let bS=(0,bJ.default)("upload",[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]]);var bT=a.i(39210),bT=bT,bU=a.i(18347);let bV=({value:a=[],onChange:b,disabled:e})=>{let[f,g]=(0,d.useState)(!1),h=(0,d.useRef)(null),i=async c=>{if(c.target.files&&c.target.files.length>0){g(!0);let d=c.target.files[0],e=new FormData;e.append("file",d);try{let c=await fetch("/api/upload",{method:"POST",body:e}),d=await c.json();d.url?b([...a,d.url]):alert("Upload failed")}catch(a){console.error(a),alert("Something went wrong")}finally{g(!1),h.current&&(h.current.value="")}}};return(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("div",{className:"flex flex-wrap gap-4",children:a.map(d=>(0,c.jsxs)("div",{className:"relative w-40 h-40 rounded-md overflow-hidden border border-white/20 group",children:[(0,c.jsx)("div",{className:"absolute top-2 right-2 z-10",children:(0,c.jsx)(aC.Button,{type:"button",onClick:()=>{b(a.filter(a=>a!==d))},variant:"destructive",size:"icon",className:"h-6 w-6 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,c.jsx)(bT.default,{className:"h-3 w-3"})})}),(0,c.jsx)(bU.default,{fill:!0,className:"object-cover",alt:"Image",src:d})]},d))}),(0,c.jsxs)("div",{children:[(0,c.jsx)("input",{type:"file",accept:"image/*",className:"hidden",ref:h,onChange:i,disabled:e||f}),(0,c.jsxs)(aC.Button,{type:"button",variant:"secondary",disabled:e||f,onClick:()=>h.current?.click(),className:"bg-white/10 hover:bg-white/20 text-white border border-white/20",children:[(0,c.jsx)(bS,{className:"h-4 w-4 mr-2"}),f?"Uploading...":"Upload Image"]})]})]})};var bW=a.i(73992),bX=a.i(47369),bY=a.i(56162),bZ=a.i(50048);let b$=(0,bJ.default)("triangle-alert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),b_=(0,bJ.default)("refresh-ccw",[["path",{d:"M21 12a9 9 0 0 0-9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"14sxne"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M3 12a9 9 0 0 0 9 9 9.75 9.75 0 0 0 6.74-2.74L21 16",key:"1hlbsb"}],["path",{d:"M16 16h5v5",key:"ccwih5"}]]),b0=(0,bJ.default)("ellipsis",[["circle",{cx:"12",cy:"12",r:"1",key:"41hilf"}],["circle",{cx:"19",cy:"12",r:"1",key:"1wjl8i"}],["circle",{cx:"5",cy:"12",r:"1",key:"1pcz8c"}]]),b1=(0,bJ.default)("user-x",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"17",x2:"22",y1:"8",y2:"13",key:"3nzzx3"}],["line",{x1:"22",x2:"17",y1:"8",y2:"13",key:"1swrse"}]]);var b2=a.i(50507),b3=a.i(10623);let b4=(0,b3.createServerReference)("40f78867e18f8376fe5c55dc7e237af08014f91a1b",b3.callServer,void 0,b3.findSourceMapURL,"fetchBookingsByStudio"),b5=(0,b3.createServerReference)("600501332cee67ba135c41c97f3745937984c9c690",b3.callServer,void 0,b3.findSourceMapURL,"updateBookingStatus");var b6=a.i(41943),b7=a.i(26465),b8=a.i(66760),b9=a.i(99131),ca=a.i(15661),cb=a.i(6641);function cc(a,b){var c;return(0,cb.isSameDay)((0,ca.constructFrom)(b?.in||a,a),(c=b?.in||a,(0,ca.constructFrom)(c,Date.now())))}var cd=a.i(83244);function ce({studioId:a}){let[b,e]=(0,d.useState)([]),[f,g]=(0,d.useState)(!0),h=async()=>{g(!0),e(await b4(a)),g(!1)};(0,d.useEffect)(()=>{h()},[a]);let i=async(a,b)=>{await b5(a,b)&&h()};if(f)return(0,c.jsx)(aI.Card,{className:"bg-slate-900 border-white/10",children:(0,c.jsxs)(aI.CardContent,{className:"py-20 text-center text-gray-500 flex items-center justify-center gap-2",children:[(0,c.jsx)(bZ.Loader2,{className:"animate-spin h-4 w-4"}),"読み込み中..."]})});let j=b.filter(a=>"cancelled"!==a.status&&"no_show"!==a.status),k=b.filter(a=>"cancelled"===a.status).length,l=b.filter(a=>"no_show"===a.status).length,m=b.filter(a=>"modified"===a.status).length;j.filter(a=>(0,b8.isFuture)((0,b7.parseISO)(a.date))||cc((0,b7.parseISO)(a.date))),j.filter(a=>{var b;return b=(0,b7.parseISO)(a.date),+(0,b9.toDate)(b)<Date.now()&&!cc((0,b7.parseISO)(a.date))});let n=j.reduce((a,b)=>a+b.totalPrice,0);return(0,c.jsxs)("div",{className:"space-y-6 animate-in fade-in duration-500",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10 shadow-lg",children:[(0,c.jsxs)(aI.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,c.jsx)(aI.CardTitle,{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"有効予約"}),(0,c.jsx)(bH.Calendar,{className:"h-3 w-3 text-cyan-400"})]}),(0,c.jsx)(aI.CardContent,{children:(0,c.jsx)("div",{className:"text-2xl font-black text-white",children:j.length})})]}),(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10 shadow-lg",children:[(0,c.jsxs)(aI.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,c.jsx)(aI.CardTitle,{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"キャンセル / 無断"}),(0,c.jsx)(b$,{className:"h-3 w-3 text-red-500"})]}),(0,c.jsx)(aI.CardContent,{children:(0,c.jsxs)("div",{className:"text-2xl font-black text-red-500",children:[k,(0,c.jsxs)("span",{className:"text-xs text-purple-400 ml-1",children:["+",l]})]})})]}),(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10 shadow-lg",children:[(0,c.jsxs)(aI.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,c.jsx)(aI.CardTitle,{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"内容変更"}),(0,c.jsx)(b_,{className:"h-3 w-3 text-orange-400"})]}),(0,c.jsx)(aI.CardContent,{children:(0,c.jsx)("div",{className:"text-2xl font-black text-orange-400",children:m})})]}),(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10 shadow-lg px-2",children:[(0,c.jsxs)(aI.CardHeader,{className:"flex flex-row items-center justify-between pb-2",children:[(0,c.jsx)(aI.CardTitle,{className:"text-[10px] font-bold text-gray-500 uppercase tracking-widest",children:"確定売上"}),(0,c.jsx)(bY.DollarSign,{className:"h-3 w-3 text-green-400"})]}),(0,c.jsx)(aI.CardContent,{children:(0,c.jsxs)("div",{className:"text-2xl font-black text-green-400",children:["¥",n.toLocaleString()]})})]})]}),(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10 overflow-hidden",children:[(0,c.jsxs)(aI.CardHeader,{className:"flex flex-row items-center justify-between border-b border-white/5 pb-4",children:[(0,c.jsx)(aI.CardTitle,{className:"text-xl font-black italic tracking-tighter text-cyan-400 uppercase",children:"Studio Booking Log"}),(0,c.jsxs)(aC.Button,{variant:"outline",size:"sm",onClick:h,className:"h-8 border-white/10 text-gray-400 hover:text-white",children:[(0,c.jsx)(b_,{className:"h-3 w-3 mr-2"})," 更新"]})]}),(0,c.jsx)(aI.CardContent,{className:"p-0",children:(0,c.jsxs)(bW.Table,{children:[(0,c.jsx)(bW.TableHeader,{className:"bg-white/5",children:(0,c.jsxs)(bW.TableRow,{className:"border-white/10 hover:bg-transparent",children:[(0,c.jsx)(bW.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4 px-6 text-center",children:"操作"}),(0,c.jsx)(bW.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4",children:"ID"}),(0,c.jsx)(bW.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4",children:"日時"}),(0,c.jsx)(bW.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4",children:"部屋 / 期間"}),(0,c.jsx)(bW.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4",children:"詳細"}),(0,c.jsx)(bW.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4",children:"金額"}),(0,c.jsx)(bW.TableHead,{className:"text-[10px] font-bold uppercase text-gray-500 py-4 text-right pr-6",children:"ステータス"})]})}),(0,c.jsx)(bW.TableBody,{children:0===b.length?(0,c.jsx)(bW.TableRow,{children:(0,c.jsx)(bW.TableCell,{colSpan:7,className:"text-center py-24 text-gray-600 italic uppercase tracking-widest",children:"No bookings on record"})}):b.map(a=>{let b=(a=>{if("cancelled"===a.status)return{label:"キャンセル済",color:"bg-red-900/20 text-red-500 border-red-500/30 font-bold"};if("no_show"===a.status)return{label:"無断来店",color:"bg-purple-900/30 text-purple-400 border-purple-500/30 font-bold shadow-[0_0_10px_rgba(168,85,247,0.2)]"};if("modified"===a.status)return{label:"内容更新",color:"bg-orange-900/20 text-orange-400 border-orange-500/30"};let b=(0,b7.parseISO)(a.date);return cc(b)?{label:"今日",color:"bg-cyan-900/30 text-cyan-400 border-cyan-500/30 shadow-[0_0_10px_rgba(34,211,238,0.2)]"}:(0,b8.isFuture)(b)?{label:"予約済み",color:"bg-green-900/30 text-green-400 border-green-500/30"}:{label:"完了",color:"bg-gray-700/30 text-gray-400 border-gray-500/30"}})(a),d="cancelled"===a.status,e="no_show"===a.status;return(0,c.jsxs)(bW.TableRow,{className:`border-white/5 hover:bg-white/5 transition-colors ${d||e?"opacity-40 grayscale italic":""}`,children:[(0,c.jsx)(bW.TableCell,{className:"text-center px-6",children:(0,c.jsxs)(cd.DropdownMenu,{children:[(0,c.jsx)(cd.DropdownMenuTrigger,{asChild:!0,children:(0,c.jsx)(aC.Button,{variant:"ghost",size:"icon",className:"h-8 w-8 text-gray-500 hover:text-white hover:bg-white/10",children:(0,c.jsx)(b0,{className:"h-4 w-4"})})}),(0,c.jsxs)(cd.DropdownMenuContent,{align:"start",className:"bg-slate-900 border-white/10 text-white shadow-2xl",children:[(0,c.jsx)(cd.DropdownMenuLabel,{className:"text-[10px] uppercase text-gray-500 font-bold px-3 py-2",children:"Status Actions"}),(0,c.jsx)(cd.DropdownMenuSeparator,{className:"bg-white/5"}),(0,c.jsxs)(cd.DropdownMenuItem,{onClick:()=>i(a.id,"active"),className:"flex items-center gap-2 hover:bg-cyan-500/20 hover:text-cyan-400 cursor-pointer",children:[(0,c.jsx)(b2.CheckCircle,{className:"h-3.5 w-3.5"}),(0,c.jsx)("span",{children:"有効 (Active)"})]}),(0,c.jsxs)(cd.DropdownMenuItem,{onClick:()=>i(a.id,"no_show"),className:"flex items-center gap-2 hover:bg-purple-500/20 hover:text-purple-400 cursor-pointer text-purple-400/80",children:[(0,c.jsx)(b1,{className:"h-3.5 w-3.5"}),(0,c.jsx)("span",{children:"無断来店 (No-Show)"})]}),(0,c.jsxs)(cd.DropdownMenuItem,{onClick:()=>i(a.id,"cancelled"),className:"flex items-center gap-2 hover:bg-red-500/20 hover:text-red-400 cursor-pointer text-red-400/80",children:[(0,c.jsx)(b$,{className:"h-3.5 w-3.5"}),(0,c.jsx)("span",{children:"キャンセル処理"})]})]})]})}),(0,c.jsxs)(bW.TableCell,{className:"font-mono text-[10px] text-gray-500",children:["#",a.id.toUpperCase().substring(0,8)]}),(0,c.jsxs)(bW.TableCell,{children:[(0,c.jsx)("div",{className:"font-bold text-white text-sm",children:(0,b6.format)((0,b7.parseISO)(a.date),"yyyy/MM/dd")}),(0,c.jsxs)("div",{className:"text-[10px] text-gray-500 mt-0.5 flex items-center gap-1",children:[(0,c.jsx)(bX.Clock,{className:"h-2 w-2"})," ",a.startTime]})]}),(0,c.jsxs)(bW.TableCell,{children:[(0,c.jsx)("div",{className:"text-xs font-medium text-white",children:a.roomName||"Standard"}),(0,c.jsxs)("div",{className:"text-[10px] text-gray-500 mt-0.5",children:[a.durationHours,"時間利用"]})]}),(0,c.jsx)(bW.TableCell,{children:(0,c.jsxs)("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[(0,c.jsx)(bL.Users,{className:"h-3 w-3"}),a.userCount,"名様"]})}),(0,c.jsxs)(bW.TableCell,{className:`font-mono font-black ${d||e?"text-gray-500 line-through":"text-cyan-400"}`,children:["¥",a.totalPrice.toLocaleString()]}),(0,c.jsx)(bW.TableCell,{className:"text-right pr-6",children:(0,c.jsx)(bC.Badge,{variant:"outline",className:`text-[9px] px-2 py-0 border-none rounded-full ${b.color}`,children:b.label})})]},a.id)})})]})})]})]})}let cf=(0,bJ.default)("trending-up",[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]]),cg=(0,bJ.default)("chart-pie",[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]]);var ch=a.i(19817);let ci=(0,bJ.default)("arrow-up-right",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);var cj=a.i(29746),ck=a.i(63495);function cl(a,b){let{start:c,end:d}=function(a,b){let[c,d]=(0,ck.normalizeDates)(a,b.start,b.end);return{start:c,end:d}}(b?.in,a),e=+c>+d,f=e?+c:+d,g=e?d:c;g.setHours(0,0,0,0);let h=b?.step??1;if(!h)return[];h<0&&(h=-h,e=!e);let i=[];for(;+g<=f;)i.push((0,ca.constructFrom)(c,g)),g.setDate(g.getDate()+h),g.setHours(0,0,0,0);return e?i.reverse():i}var cm=a.i(16767);function cn({studioId:a}){let b,e,[f,g]=(0,d.useState)([]),[h,i]=(0,d.useState)(null),[j,k]=(0,d.useState)(!0);if((0,d.useEffect)(()=>{(async()=>{k(!0);let[b,c]=await Promise.all([b4(a),(0,aG.fetchStudio)(a)]);g(b),i(c),k(!1)})()},[a]),j||!h)return(0,c.jsx)("div",{className:"p-20 text-center text-gray-500",children:"分析データを計算中..."});let l=new Date,m=(0,cj.startOfMonth)(l),n=(e=(b=(0,b9.toDate)(l,void 0)).getMonth(),b.setFullYear(b.getFullYear(),e+1,0),b.setHours(23,59,59,999),b),o=f.filter(a=>(function(a,b,c){let d=+(0,b9.toDate)(a,void 0),[e,f]=[+(0,b9.toDate)(b.start,void 0),+(0,b9.toDate)(b.end,void 0)].sort((a,b)=>a-b);return d>=e&&d<=f})((0,b7.parseISO)(a.date),{start:m,end:n})),p=o.reduce((a,b)=>a+b.totalPrice,0),q=o.length,r=q>0?p/q:0,s=h.monthlyRevenueTarget||5e5,t=p/s*100,u=cl({start:m,end:n}).length,v=h.rooms?.length||1,w=o.reduce((a,b)=>a+b.durationHours,0)/(v*u*12)*100,x=(h.rooms||[]).map(a=>{let b=o.filter(b=>b.roomName===a.name),c=b.reduce((a,b)=>a+b.durationHours,0),d=b.reduce((a,b)=>a+b.totalPrice,0);return{name:a.name,occupancy:c/(12*u)*100,revenue:d,count:b.length}});return(0,c.jsxs)("div",{className:"space-y-8 animate-in fade-in duration-700",children:[(0,c.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10 hover:border-cyan-500/50 transition-all overflow-hidden relative group",children:[(0,c.jsx)("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,c.jsx)(cf,{size:48,className:"text-cyan-400"})}),(0,c.jsxs)(aI.CardHeader,{className:"pb-2",children:[(0,c.jsx)(aI.CardDescription,{className:"text-gray-400 text-xs uppercase tracking-wider",children:"今月の売上"}),(0,c.jsxs)(aI.CardTitle,{className:"text-3xl font-bold text-white flex items-baseline gap-2",children:["¥",p.toLocaleString()]})]}),(0,c.jsx)(aI.CardContent,{children:(0,c.jsxs)("div",{className:"flex items-center gap-1 text-xs text-green-400",children:[(0,c.jsx)(ci,{size:14}),(0,c.jsx)("span",{children:"前月比 +12.5%"})]})})]}),(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10 hover:border-purple-500/50 transition-all overflow-hidden relative group",children:[(0,c.jsx)("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,c.jsx)(cg,{size:48,className:"text-purple-400"})}),(0,c.jsxs)(aI.CardHeader,{className:"pb-2",children:[(0,c.jsx)(aI.CardDescription,{className:"text-gray-400 text-xs uppercase tracking-wider",children:"平均予約単価 (AOV)"}),(0,c.jsxs)(aI.CardTitle,{className:"text-3xl font-bold text-white",children:["¥",Math.round(r).toLocaleString()]})]}),(0,c.jsx)(aI.CardContent,{children:(0,c.jsx)("div",{className:"text-xs text-gray-500",children:"1予約あたりの収益"})})]}),(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10 hover:border-green-500/50 transition-all overflow-hidden relative group",children:[(0,c.jsx)("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,c.jsx)(bX.Clock,{size:48,className:"text-green-400"})}),(0,c.jsxs)(aI.CardHeader,{className:"pb-2",children:[(0,c.jsx)(aI.CardDescription,{className:"text-gray-400 text-xs uppercase tracking-wider",children:"全室稼働率"}),(0,c.jsxs)(aI.CardTitle,{className:"text-3xl font-bold text-green-400",children:[w.toFixed(1),"%"]})]}),(0,c.jsx)(aI.CardContent,{children:(0,c.jsx)("div",{className:"w-full bg-white/5 h-1.5 rounded-full mt-1 overflow-hidden",children:(0,c.jsx)(cm.motion.div,{initial:{width:0},animate:{width:`${Math.min(100,w)}%`},transition:{duration:1,ease:"easeOut"},className:"h-full bg-green-500"})})})]}),(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10 hover:border-orange-500/50 transition-all overflow-hidden relative group",children:[(0,c.jsx)("div",{className:"absolute top-0 right-0 p-3 opacity-10 group-hover:opacity-20 transition-opacity",children:(0,c.jsx)(ch.Target,{size:48,className:"text-orange-400"})}),(0,c.jsxs)(aI.CardHeader,{className:"pb-2",children:[(0,c.jsx)(aI.CardDescription,{className:"text-gray-400 text-xs uppercase tracking-wider",children:"目標達成率 (予実)"}),(0,c.jsxs)(aI.CardTitle,{className:"text-3xl font-bold text-white",children:[t.toFixed(1),"%"]})]}),(0,c.jsxs)(aI.CardContent,{children:[(0,c.jsxs)("div",{className:"flex justify-between text-[10px] text-gray-500 mb-1",children:[(0,c.jsxs)("span",{children:["目標: ¥",(s/1e4).toLocaleString(),"万"]}),(0,c.jsxs)("span",{children:["残り: ¥",Math.max(0,s-p).toLocaleString()]})]}),(0,c.jsx)("div",{className:"w-full bg-white/5 h-1.5 rounded-full overflow-hidden",children:(0,c.jsx)(cm.motion.div,{initial:{width:0},animate:{width:`${Math.min(100,t)}%`},transition:{duration:1,ease:"easeOut"},className:`h-full ${t>=100?"bg-cyan-400":"bg-orange-500"}`})})]})]})]}),(0,c.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8",children:[(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10",children:[(0,c.jsx)(aI.CardHeader,{children:(0,c.jsxs)(aI.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,c.jsx)(bK,{className:"text-cyan-400 h-5 w-5"}),"部屋別稼働状況"]})}),(0,c.jsx)(aI.CardContent,{className:"space-y-6",children:x.map((a,b)=>(0,c.jsxs)("div",{className:"space-y-2",children:[(0,c.jsxs)("div",{className:"flex justify-between items-end",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm font-bold text-white",children:a.name}),(0,c.jsxs)("div",{className:"text-xs text-gray-500",children:[a.count," 予約 / 今月"]})]}),(0,c.jsxs)("div",{className:"text-right",children:[(0,c.jsxs)("div",{className:"text-lg font-mono text-cyan-400",children:[a.occupancy.toFixed(1),"%"]}),(0,c.jsxs)("div",{className:"text-[10px] text-gray-500",children:["売上: ¥",a.revenue.toLocaleString()]})]})]}),(0,c.jsx)("div",{className:"w-full bg-white/5 h-2 rounded-full overflow-hidden",children:(0,c.jsx)(cm.motion.div,{initial:{width:0},animate:{width:`${Math.min(100,a.occupancy)}%`},transition:{duration:1,delay:.1*b},className:"h-full bg-gradient-to-r from-cyan-600 to-cyan-400"})})]},b))})]}),(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10",children:[(0,c.jsx)(aI.CardHeader,{children:(0,c.jsxs)(aI.CardTitle,{className:"text-lg flex items-center gap-2",children:[(0,c.jsx)(bK,{className:"text-purple-400 h-5 w-5"}),"日別売上推移"]})}),(0,c.jsxs)(aI.CardContent,{children:[(0,c.jsx)("div",{className:"h-48 flex items-end gap-1 px-2",children:cl({start:m,end:n}).map((a,b)=>{let d=o.filter(b=>(0,cb.isSameDay)((0,b7.parseISO)(b.date),a)).reduce((a,b)=>a+b.totalPrice,0),e=d/Math.max(...cl({start:m,end:n}).map(a=>o.filter(b=>(0,cb.isSameDay)((0,b7.parseISO)(b.date),a)).reduce((a,b)=>a+b.totalPrice,0)),1e4)*100;return(0,c.jsxs)("div",{className:"flex-1 flex flex-col items-center group relative",children:[(0,c.jsx)(cm.motion.div,{initial:{height:0},animate:{height:`${Math.max(2,e)}%`},className:`w-full rounded-t-sm transition-colors ${(0,cb.isSameDay)(a,l)?"bg-cyan-400":"bg-slate-700 group-hover:bg-slate-600"}`}),d>0&&(0,c.jsx)("div",{className:"absolute bottom-full mb-2 hidden group-hover:block z-10",children:(0,c.jsxs)(bC.Badge,{className:"bg-black border-cyan-500/50 text-[10px] whitespace-nowrap",children:[(0,b6.format)(a,"d日"),": ¥",d.toLocaleString()]})})]},b)})}),(0,c.jsxs)("div",{className:"flex justify-between mt-4 text-[10px] text-gray-500 border-t border-white/5 pt-2",children:[(0,c.jsx)("span",{children:(0,b6.format)(m,"yyyy/MM/dd")}),(0,c.jsx)("span",{children:(0,b6.format)(n,"yyyy/MM/dd")})]})]})]})]}),(0,c.jsx)(aI.Card,{className:"bg-cyan-950/20 border-cyan-500/20",children:(0,c.jsxs)(aI.CardContent,{className:"p-4 flex gap-4 items-center",children:[(0,c.jsx)("div",{className:"bg-cyan-500/20 p-2 rounded-lg text-cyan-400",children:(0,c.jsx)(ch.Target,{size:20})}),(0,c.jsxs)("div",{children:[(0,c.jsx)("div",{className:"text-sm font-bold text-cyan-400",children:"AI分析インサイト"}),(0,c.jsx)("div",{className:"text-xs text-gray-400",children:w>70?"稼働率が高い状態です。ピークタイムの特別価格設定や、予備室の開放を検討してください。":w<30?"今月の稼働率が低迷しています。平日のデイタイムに向けたキャンペーンやクーポンの発行が有効です。":"安定した稼働状況です。リピート率向上のため、オプション機材の充実を推奨します。"})]})]})})]})}var co=a.i(86378),cp=a.i(17011),cq=a.i(65582),cr="Switch",[cs,ct]=(0,aJ.createContextScope)(cr),[cu,cv]=cs(cr),cw=d.forwardRef((a,b)=>{let{__scopeSwitch:e,name:f,checked:g,defaultChecked:h,required:i,disabled:j,value:k="on",onCheckedChange:l,form:m,...n}=a,[o,p]=d.useState(null),q=(0,aL.useComposedRefs)(b,a=>p(a)),r=d.useRef(!1),s=!o||m||!!o.closest("form"),[t,u]=(0,aN.useControllableState)({prop:g,defaultProp:h??!1,onChange:l,caller:cr});return(0,c.jsxs)(cu,{scope:e,checked:t,disabled:j,children:[(0,c.jsx)(aO.Primitive.button,{type:"button",role:"switch","aria-checked":t,"aria-required":i,"data-state":cA(t),"data-disabled":j?"":void 0,disabled:j,value:k,...n,ref:q,onClick:(0,aM.composeEventHandlers)(a.onClick,a=>{u(a=>!a),s&&(r.current=a.isPropagationStopped(),r.current||a.stopPropagation())})}),s&&(0,c.jsx)(cz,{control:o,bubbles:!r.current,name:f,value:k,checked:t,required:i,disabled:j,form:m,style:{transform:"translateX(-100%)"}})]})});cw.displayName=cr;var cx="SwitchThumb",cy=d.forwardRef((a,b)=>{let{__scopeSwitch:d,...e}=a,f=cv(cx,d);return(0,c.jsx)(aO.Primitive.span,{"data-state":cA(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:b})});cy.displayName=cx;var cz=d.forwardRef(({__scopeSwitch:a,control:b,checked:e,bubbles:f=!0,...g},h)=>{let i=d.useRef(null),j=(0,aL.useComposedRefs)(i,h),k=(0,cp.usePrevious)(e),l=(0,cq.useSize)(b);return d.useEffect(()=>{let a=i.current;if(!a)return;let b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(k!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[k,e,f]),(0,c.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:j,style:{...g.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});function cA(a){return a?"checked":"unchecked"}function cB({className:a,...b}){return(0,c.jsx)(cw,{"data-slot":"switch",className:(0,bx.cn)("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-input focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent shadow-xs transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",a),...b,children:(0,c.jsx)(cy,{"data-slot":"switch-thumb",className:(0,bx.cn)("bg-background dark:data-[state=unchecked]:bg-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}cz.displayName="SwitchBubbleInput";var cC=a.i(66680);let cD={randomUUID:cC.randomUUID},cE=new Uint8Array(256),cF=cE.length,cG=[];for(let a=0;a<256;++a)cG.push((a+256).toString(16).slice(1));let cH=function(a,b,c){if(cD.randomUUID&&!b&&!a)return cD.randomUUID();var d=a,e=c;let f=(d=d||{}).random??d.rng?.()??(cF>cE.length-16&&((0,cC.randomFillSync)(cE),cF=0),cE.slice(cF,cF+=16));if(f.length<16)throw Error("Random bytes length must be >= 16");if(f[6]=15&f[6]|64,f[8]=63&f[8]|128,b){if((e=e||0)<0||e+16>b.length)throw RangeError(`UUID byte range ${e}:${e+15} is out of buffer bounds`);for(let a=0;a<16;++a)b[e+a]=f[a];return b}return function(a,b=0){return(cG[a[b+0]]+cG[a[b+1]]+cG[a[b+2]]+cG[a[b+3]]+"-"+cG[a[b+4]]+cG[a[b+5]]+"-"+cG[a[b+6]]+cG[a[b+7]]+"-"+cG[a[b+8]]+cG[a[b+9]]+"-"+cG[a[b+10]]+cG[a[b+11]]+cG[a[b+12]]+cG[a[b+13]]+cG[a[b+14]]+cG[a[b+15]]).toLowerCase()}(f)},cI=h.object({start:h.string(),end:h.string(),pricingType:h.enum(["fixed","discount"]).default("fixed"),price:aB.number().min(0).default(0),discountRate:aB.number().min(0).max(100).default(0)}),cJ=h.object({slots:h.array(cI)}),cK=h.object({name:h.string().min(1,"スタジオ名は必須です"),description:h.string().optional(),images:h.array(h.string()).optional(),basePrice:aB.number().min(0).default(2e3),pricing:h.object({weekday:cJ,saturday:cJ,sundayHoliday:cJ})}),cL=h.object({name:h.string().min(1,"機材名は必須です"),pricePerHour:aB.number().min(0)}),cM=h.object({id:h.string(),name:h.string().min(1,"名前は必須です"),email:h.string().email("無効なメールアドレスです"),password:h.string().optional(),role:h.enum(["admin","staff"]),createdAt:h.string()}),cN=h.object({userId:h.string(),userName:h.string(),email:h.string().optional(),reason:h.string().min(1,"理由は必須です"),createdAt:h.string()}),cO=h.object({logoSize:aB.number().min(10).max(250).default(100),backgroundColor:h.string().default("#000000"),backgroundImageUrl:h.string().optional(),backgroundType:h.enum(["color","image"]).default("color"),showMap:h.boolean().default(!0)}),cP=h.object({id:h.string(),storeName:h.string().min(1,"店舗名は必須です"),companyName:h.string().optional(),representative:h.string().optional(),representativeEmail:h.string().email("有効なメールアドレスを入力してください").optional().or(h.literal("")),manager:h.string().optional(),contactPerson:h.string().optional(),contactPersonEmail:h.string().email("有効なメールアドレスを入力してください").optional().or(h.literal("")),postalCode:h.string().optional(),address:h.string().optional(),phone:h.string().optional(),email:h.string().optional(),businessHours:h.object({weekday:h.string().optional(),saturday:h.string().optional(),sundayHoliday:h.string().optional()}),url:h.string().optional(),studioCount:aB.number().optional(),rooms:h.array(cK),equipmentOptions:h.array(cL),appealPoint:h.string().optional(),images:h.array(h.string()).optional(),monthlyRevenueTarget:aB.number().optional().default(5e5),logoUrl:h.string().optional(),invoiceNumber:h.string().optional(),studentDiscount:h.object({enabled:h.boolean().default(!1),discountType:h.enum(["amount","percentage"]).default("amount"),value:aB.number().default(0)}).optional(),otherDiscounts:h.array(h.object({name:h.string().min(1,"割引名は必須です"),enabled:h.boolean().default(!0),discountType:h.enum(["amount","percentage"]).default("amount"),value:aB.number().default(0)})).optional().default([]),personalPracticeSettings:h.object({enabled:h.boolean().default(!0),reservationWindowType:h.enum(["hours","days"]).default("days"),reservationWindowValue:aB.number().default(1),maxPeople:aB.number().default(2)}).optional(),staff:h.array(cM).optional().default([]),blacklist:h.array(cN).optional().default([]),designSettings:cO.optional()}),cQ=[{start:"10:00",end:"18:00",price:2e3,pricingType:"fixed",discountRate:0},{start:"18:00",end:"24:00",price:2500,pricingType:"fixed",discountRate:0}];function cR(){let a=(0,e.useParams)(),b=(0,e.useRouter)(),h=a.id,[i,j]=(0,d.useState)(!0),[k,l]=(0,d.useState)(!1),[m,n]=(0,d.useState)("settings"),o=(0,f.useForm)({resolver:(0,g.zodResolver)(cP),defaultValues:{id:h,storeName:"",rooms:[],equipmentOptions:[],businessHours:{},appealPoint:"",images:[],monthlyRevenueTarget:5e5,logoUrl:"",staff:[],blacklist:[],designSettings:{logoSize:100,backgroundColor:"#000000",backgroundType:"color",showMap:!0}}}),{fields:p,append:q,remove:r}=(0,f.useFieldArray)({control:o.control,name:"rooms"}),{fields:s,append:t,remove:u}=(0,f.useFieldArray)({control:o.control,name:"equipmentOptions"}),{fields:v,append:w,remove:x}=(0,f.useFieldArray)({control:o.control,name:"staff"}),{fields:y,append:z,remove:A}=(0,f.useFieldArray)({control:o.control,name:"otherDiscounts"}),{fields:B,append:C,remove:D}=(0,f.useFieldArray)({control:o.control,name:"blacklist"});(0,d.useEffect)(()=>{(async()=>{if(!h)return;let a=await (0,aG.fetchStudio)(h);if(!a){alert("Studio not found"),b.push("/admin/studios");return}o.reset({...a,rooms:a.rooms?.map(a=>({...a,basePrice:a.basePrice||2e3,images:a.images||[],pricing:{weekday:{slots:a.pricing?.weekday?.slots?.map(a=>({...a,pricingType:a.pricingType||"fixed",discountRate:a.discountRate||0}))||[]},saturday:{slots:a.pricing?.saturday?.slots?.map(a=>({...a,pricingType:a.pricingType||"fixed",discountRate:a.discountRate||0}))||[]},sundayHoliday:{slots:a.pricing?.sundayHoliday?.slots?.map(a=>({...a,pricingType:a.pricingType||"fixed",discountRate:a.discountRate||0}))||[]}}}))||[],equipmentOptions:a.equipmentOptions||[],images:a.images||[],appealPoint:a.appealPoint||"",monthlyRevenueTarget:a.monthlyRevenueTarget||5e5,logoUrl:a.logoUrl||"",studentDiscount:a.studentDiscount||{enabled:!1,discountType:"amount",value:0},otherDiscounts:a.otherDiscounts||[],personalPracticeSettings:a.personalPracticeSettings||{enabled:!0,reservationWindowType:"days",reservationWindowValue:1,maxPeople:2},staff:a.staff||[],blacklist:a.blacklist||[],designSettings:a.designSettings||{logoSize:100,backgroundColor:"#000000",backgroundType:"color",showMap:!0}}),j(!1)})()},[h,b,o]);let E=async a=>{l(!0),console.log("Saving studio data:",a);try{let b=await (0,aH.updateStudio)(a);b.success?alert("保存しました"):alert("保存失敗: "+b.message)}catch(a){console.error("Save Error:",a),alert("通信エラーが発生しました: "+a.message)}finally{l(!1)}};if(i)return(0,c.jsx)("div",{className:"p-20 text-white",children:"Loading..."});let F=["settings","staff","blacklist"].includes(m);return(0,c.jsx)(aD.Form,{...o,children:(0,c.jsx)("div",{className:"min-h-screen bg-black text-white p-6 md:p-12 font-sans pb-40",children:(0,c.jsxs)("div",{className:"max-w-5xl mx-auto space-y-6",children:[(0,c.jsxs)(aC.Button,{variant:"ghost",className:"text-gray-400 pl-0 hover:text-white",onClick:()=>b.push("/admin/studios"),children:[(0,c.jsx)(bF.ArrowLeft,{className:"mr-2 h-4 w-4"})," ストア一覧に戻る"]}),(0,c.jsxs)("header",{className:"flex justify-between items-center border-b border-white/10 pb-4",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[o.watch("logoUrl")?(0,c.jsx)("div",{className:"relative w-16 h-16 rounded-xl overflow-hidden border border-white/10 bg-black shadow-lg",children:(0,c.jsx)("img",{src:o.watch("logoUrl"),alt:"Logo",className:"object-contain w-full h-full"})}):(0,c.jsx)("div",{className:"w-16 h-16 rounded-xl bg-slate-900 border border-white/10 flex items-center justify-center text-cyan-400",children:(0,c.jsx)(bI.Building2,{className:"w-8 h-8"})}),(0,c.jsxs)("div",{children:[(0,c.jsxs)("h1",{className:"text-3xl font-bold text-cyan-400 mb-2",children:["店舗管理: ",o.watch("storeName")]}),(0,c.jsxs)("p",{className:"text-gray-400",children:["ID: ",h]})]})]}),F&&(0,c.jsx)(aC.Button,{type:"button",disabled:k,onClick:o.handleSubmit(E,a=>{console.error("Validation Errors:",a);let b=Object.keys(a).join(", ");alert(`入力内容に不備があります。以下の項目を確認してください:
${b}`);let c=document.querySelector('[aria-invalid="true"]');c&&c.scrollIntoView({behavior:"smooth",block:"center"})}),className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold px-8 shadow-[0_0_20px_rgba(6,182,212,0.4)] min-w-[140px]",children:k?(0,c.jsxs)("span",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"w-4 h-4 border-2 border-black/30 border-t-black rounded-full animate-spin"}),"保存中..."]}):(0,c.jsxs)("span",{className:"flex items-center gap-2",children:[(0,c.jsx)(bG.Save,{className:"w-4 h-4"})," 設定を保存"]})})]}),(0,c.jsxs)("div",{className:"flex gap-2 border-b border-white/10",children:[(0,c.jsx)("button",{onClick:()=>n("settings"),className:`px-4 py-2 font-medium transition-colors ${"settings"===m?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:"店舗設定"}),(0,c.jsxs)("button",{onClick:()=>n("bookings"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${"bookings"===m?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,c.jsx)(bH.Calendar,{className:"h-4 w-4"}),"予約状況"]}),(0,c.jsxs)("button",{onClick:()=>n("analytics"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${"analytics"===m?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,c.jsx)(bK,{className:"h-4 w-4"}),"分析レポート"]}),(0,c.jsxs)("button",{onClick:()=>n("staff"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${"staff"===m?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,c.jsx)(bL.Users,{className:"h-4 w-4"}),"スタッフ管理"]}),(0,c.jsxs)("button",{onClick:()=>n("blacklist"),className:`px-4 py-2 font-medium transition-colors flex items-center gap-2 ${"blacklist"===m?"text-cyan-400 border-b-2 border-cyan-400":"text-gray-400 hover:text-white"}`,children:[(0,c.jsx)(bM,{className:"h-4 w-4"}),"ブラックリスト"]})]}),"bookings"===m?(0,c.jsx)(ce,{studioId:h}):"analytics"===m?(0,c.jsx)(cn,{studioId:h}):(0,c.jsxs)("form",{className:"space-y-12",onSubmit:o.handleSubmit(E),children:["staff"===m&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"スタッフ管理"}),(0,c.jsxs)(aC.Button,{type:"button",onClick:()=>w({id:cH(),name:"",email:"",role:"staff",createdAt:new Date().toISOString()}),className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:[(0,c.jsx)(bD.Plus,{className:"mr-2 h-4 w-4"})," スタッフを追加"]})]}),(0,c.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[v.map((a,b)=>(0,c.jsx)(aI.Card,{className:"bg-slate-900 border-white/10 p-4",children:(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex justify-between items-start",children:[(0,c.jsxs)(bC.Badge,{variant:"outline",className:"text-cyan-400 border-cyan-500/30 bg-cyan-500/5",children:["admin"===o.watch(`staff.${b}.role`)?(0,c.jsx)(bN,{className:"w-3 h-3 mr-1"}):(0,c.jsx)(bL.Users,{className:"w-3 h-3 mr-1"}),o.watch(`staff.${b}.role`)?.toUpperCase()]}),(0,c.jsx)(aC.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>x(b),className:"text-gray-500 hover:text-red-400",children:(0,c.jsx)(bE.Trash2,{className:"h-4 w-4"})})]}),(0,c.jsx)(aD.FormField,{control:o.control,name:`staff.${b}.name`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-gray-500",children:"名前"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,className:"bg-black border-white/10"})})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:`staff.${b}.email`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsxs)(aD.FormLabel,{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,c.jsx)(bO.Mail,{className:"w-3 h-3"})," メールアドレス"]}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,type:"email",className:"bg-black border-white/10"})})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:`staff.${b}.password`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsxs)(aD.FormLabel,{className:"text-xs text-gray-500 flex items-center gap-1",children:[(0,c.jsx)(bP,{className:"w-3 h-3"})," パスワード (変更する場合のみ入力)"]}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,type:"password",placeholder:"••••••••",className:"bg-black border-white/10"})})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:`staff.${b}.role`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-gray-500",children:"権限"}),(0,c.jsxs)(co.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(co.SelectTrigger,{className:"bg-black border-white/10",children:(0,c.jsx)(co.SelectValue,{placeholder:"権限を選択"})})}),(0,c.jsxs)(co.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,c.jsx)(co.SelectItem,{value:"admin",children:"管理者 (全機能)"}),(0,c.jsx)(co.SelectItem,{value:"staff",children:"スタッフ (予約・接客のみ)"})]})]})]})})]})},a.id)),0===v.length&&(0,c.jsx)("div",{className:"col-span-2 py-20 text-center border border-dashed border-white/10 rounded text-gray-500",children:"スタッフが登録されていません。"})]})]}),"blacklist"===m&&(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("h2",{className:"text-xl font-bold border-l-4 border-red-500 pl-3 text-red-400 lowercase",children:"// BLACKLIST"}),(0,c.jsxs)(aC.Button,{type:"button",onClick:()=>C({userId:cH(),userName:"",email:"",reason:"",createdAt:new Date().toISOString()}),className:"bg-red-900/40 hover:bg-red-800 text-red-200 border border-red-500/30",children:[(0,c.jsx)(bQ,{className:"mr-2 h-4 w-4"})," ユーザーを拒否"]})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[B.map((a,b)=>(0,c.jsx)(aI.Card,{className:"bg-red-950/5 border-red-500/20 p-6",children:(0,c.jsxs)("div",{className:"flex flex-col md:flex-row gap-6",children:[(0,c.jsxs)("div",{className:"flex-1 grid md:grid-cols-2 gap-4",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:`blacklist.${b}.userName`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-red-400",children:"対象者名"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,placeholder:"氏名",className:"bg-black border-red-500/20 focus:border-red-500 text-white"})})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:`blacklist.${b}.email`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-red-400",children:"メールアドレス"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,type:"email",placeholder:"example@bad-user.com",className:"bg-black border-red-500/20 focus:border-red-500 text-white"})})]})}),(0,c.jsx)("div",{className:"md:col-span-2",children:(0,c.jsx)(aD.FormField,{control:o.control,name:`blacklist.${b}.reason`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-red-400",children:"理由 (店舗内メモ)"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aF.Textarea,{...a,placeholder:"無断キャンセル、機材の破損行為など",className:"bg-black border-red-500/20 focus:border-red-500 min-h-[80px]"})})]})})})]}),(0,c.jsxs)("div",{className:"flex flex-col justify-between items-end",children:[(0,c.jsxs)(aC.Button,{type:"button",variant:"ghost",onClick:()=>D(b),className:"text-red-500 hover:bg-red-900/20",children:[(0,c.jsx)(bE.Trash2,{className:"h-5 w-5 mr-2"})," 削除"]}),(0,c.jsx)("div",{className:"text-[10px] text-red-900",children:o.watch(`blacklist.${b}.createdAt`)&&`登録日: ${new Date(o.watch(`blacklist.${b}.createdAt`)).toLocaleDateString()}`})]})]})},a.id)),0===B.length&&(0,c.jsx)("div",{className:"py-20 text-center border border-dashed border-red-500/10 rounded text-red-900/50",children:"現在、ブラックリストに登録されているユーザーはいません。"})]})]}),"settings"===m&&(0,c.jsxs)("div",{className:"space-y-12",children:[(0,c.jsxs)("section",{className:"space-y-4",children:[(0,c.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"基本情報"}),(0,c.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 p-6 bg-slate-900/50 rounded-lg border border-white/10",children:[(0,c.jsxs)("div",{className:"col-span-2 flex flex-col md:flex-row gap-6 items-start pb-6 border-b border-white/5",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:"logoUrl",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{className:"flex-shrink-0",children:[(0,c.jsx)(aD.FormLabel,{children:"店舗ロゴ"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)("div",{className:"relative w-24 h-24 rounded-2xl overflow-hidden border-2 border-dashed border-white/10 bg-black group hover:border-cyan-500/50 transition-colors",children:a.value?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("img",{src:a.value,alt:"Logo",className:"object-contain w-full h-full"}),(0,c.jsx)("button",{type:"button",onClick:()=>a.onChange(""),className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:(0,c.jsx)(bE.Trash2,{className:"text-white h-6 w-6"})})]}):(0,c.jsxs)("label",{className:"inset-0 absolute flex flex-col items-center justify-center cursor-pointer text-gray-500 hover:text-cyan-400 transition-colors",children:[(0,c.jsx)(bD.Plus,{className:"h-6 w-6 mb-1"}),(0,c.jsx)("span",{className:"text-[10px]",children:"ロゴ追加"}),(0,c.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async b=>{let c=b.target.files?.[0];if(c){let b=new FileReader;b.onloadend=()=>{a.onChange(b.result)},b.readAsDataURL(c)}}})]})}),(0,c.jsx)("div",{className:"text-[10px] text-gray-500 max-w-[150px]",children:"サイドバーや予約画面に表示される正方形のロゴをアップロードしてください。"})]})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsxs)("div",{className:"flex-1 grid gap-4 w-full",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:"storeName",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"店舗名 *"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,className:"bg-black border-white/20"})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:"companyName",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"会社名"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,className:"bg-black border-white/20"})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:"invoiceNumber",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"適格事業者番号 (インボイス番号)"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,placeholder:"T1234567890123",className:"bg-black border-white/20 font-mono text-cyan-400"})}),(0,c.jsx)(aD.FormDescription,{className:"text-[10px]",children:"領収書に記載されます。"}),(0,c.jsx)(aD.FormMessage,{})]})})]})]}),(0,c.jsx)(aD.FormField,{control:o.control,name:"studioCount",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"スタジオ数 *"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"number",...a,className:"bg-black border-white/20"})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:"url",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"Webサイト URL *"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,className:"bg-black border-white/20"})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:"monthlyRevenueTarget",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"月間売上目標 (¥)"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"number",...a,className:"bg-black border-white/20 font-mono text-orange-400"})}),(0,c.jsx)(aD.FormDescription,{className:"text-[10px]",children:"分析ページでの予実管理に使用します。"}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsx)("div",{className:"col-span-2",children:(0,c.jsx)(aD.FormField,{control:o.control,name:"appealPoint",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"アピールポイント (店舗の特徴など)"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aF.Textarea,{...a,className:"bg-black border-white/20 min-h-[100px]",placeholder:"最高の音響体験。プロ仕様の機材が使い放題です。"})}),(0,c.jsx)(aD.FormMessage,{})]})})}),(0,c.jsx)("div",{className:"col-span-2",children:(0,c.jsx)(aD.FormField,{control:o.control,name:"images",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"店舗写真"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(bV,{value:a.value||[],onChange:a.onChange})}),(0,c.jsx)(aD.FormMessage,{})]})})})]})]}),(0,c.jsxs)("section",{className:"space-y-4",children:[(0,c.jsx)("h2",{className:"text-xl font-bold border-l-4 border-emerald-500 pl-3",children:"デザイン設定 (公開ページ)"}),(0,c.jsx)(aI.Card,{className:"bg-slate-900 border-white/10 p-6",children:(0,c.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[(0,c.jsx)(bI.Building2,{className:"w-4 h-4 text-emerald-500"})," ロゴ設定"]}),(0,c.jsx)(aD.FormField,{control:o.control,name:"designSettings.logoSize",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"ロゴの大きさ (%)"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsxs)("div",{className:"flex items-center gap-4",children:[(0,c.jsx)(aE.Input,{type:"range",min:"20",max:"250",step:"5",value:a.value,onChange:b=>a.onChange(parseInt(b.target.value)),className:"accent-emerald-500 flex-1"}),(0,c.jsxs)("span",{className:"text-sm font-mono w-12 text-emerald-400",children:[a.value,"%"]})]})}),(0,c.jsx)(aD.FormDescription,{className:"text-[10px]",children:"公開ページのヘッダーに表示されるロゴのサイズを調整します。"})]})}),(0,c.jsxs)("div",{className:"p-4 bg-black rounded border border-white/5 flex items-center justify-center min-h-[140px] relative overflow-hidden",children:[(0,c.jsx)("div",{className:"absolute inset-0 opacity-20 bg-[url('https://www.transparenttextures.com/patterns/carbon-fibre.png')]"}),(0,c.jsx)("img",{src:o.watch("logoUrl")||"https://placehold.co/200x200?text=No+Logo",alt:"Preview",style:{width:`${o.watch("designSettings.logoSize")}%`,maxWidth:"100%"},className:"object-contain max-h-[120px] relative z-10 transition-all duration-300"})]})]}),(0,c.jsxs)("div",{className:"space-y-6",children:[(0,c.jsxs)("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[(0,c.jsx)(bH.Calendar,{className:"w-4 h-4 text-emerald-500"})," 背景設定"]}),(0,c.jsx)(aD.FormField,{control:o.control,name:"designSettings.backgroundType",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"背景の種類"}),(0,c.jsxs)(co.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(co.SelectTrigger,{className:"bg-black border-white/10 text-white",children:(0,c.jsx)(co.SelectValue,{})})}),(0,c.jsxs)(co.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,c.jsx)(co.SelectItem,{value:"color",children:"単色"}),(0,c.jsx)(co.SelectItem,{value:"image",children:"画像"})]})]})]})}),"color"===o.watch("designSettings.backgroundType")?(0,c.jsx)(aD.FormField,{control:o.control,name:"designSettings.backgroundColor",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"背景色"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsxs)("div",{className:"flex gap-2 items-center",children:[(0,c.jsx)(aE.Input,{type:"color",...a,className:"w-12 h-10 p-1 bg-black border-white/10 rounded overflow-hidden"}),(0,c.jsx)(aE.Input,{type:"text",...a,className:"bg-black border-white/10 font-mono text-emerald-400"})]})})]})}):(0,c.jsx)(aD.FormField,{control:o.control,name:"designSettings.backgroundImageUrl",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"背景画像"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("div",{className:"relative w-full h-32 rounded-lg overflow-hidden border-2 border-dashed border-white/10 bg-black group hover:border-emerald-500/50 transition-colors",children:a.value?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)("img",{src:a.value,alt:"Background",className:"object-cover w-full h-full"}),(0,c.jsx)("button",{type:"button",onClick:()=>a.onChange(""),className:"absolute inset-0 bg-black/60 opacity-0 group-hover:opacity-100 flex items-center justify-center transition-opacity",children:(0,c.jsx)(bE.Trash2,{className:"text-white h-6 w-6"})})]}):(0,c.jsxs)("label",{className:"inset-0 absolute flex flex-col items-center justify-center cursor-pointer text-gray-500 hover:text-emerald-400 transition-colors",children:[(0,c.jsx)(bD.Plus,{className:"h-6 w-6 mb-1"}),(0,c.jsx)("span",{className:"text-[10px]",children:"画像を選択"}),(0,c.jsx)("input",{type:"file",className:"hidden",accept:"image/*",onChange:async b=>{let c=b.target.files?.[0];if(c){let b=new FileReader;b.onloadend=()=>a.onChange(b.result),b.readAsDataURL(c)}}})]})}),(0,c.jsx)(aD.FormDescription,{className:"text-[10px]",children:"公開ページの背景全面に表示されます。"})]})})]})})]}),(0,c.jsxs)("div",{className:"space-y-6 md:col-span-2 border-t border-white/10 pt-6",children:[(0,c.jsxs)("h3",{className:"text-sm font-bold text-gray-400 uppercase tracking-wider flex items-center gap-2",children:[(0,c.jsx)(bR.MapPin,{className:"w-4 h-4 text-emerald-500"})," 地図設定"]}),(0,c.jsx)(aD.FormField,{control:o.control,name:"designSettings.showMap",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border border-white/10 p-4",children:[(0,c.jsxs)("div",{className:"space-y-0.5",children:[(0,c.jsx)(aD.FormLabel,{className:"text-base",children:"Google Mapsを表示する"}),(0,c.jsx)(aD.FormDescription,{className:"text-xs",children:"スタジオ詳細ページに地図を表示します。表示するには住所が正しく入力されている必要があります。"})]}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(cB,{checked:a.value,onCheckedChange:a.onChange,className:"data-[state=checked]:bg-emerald-500"})})]})})]})]})})]}),(0,c.jsxs)("section",{className:"space-y-4",children:[(0,c.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"店舗所在地・連絡先"}),(0,c.jsxs)("div",{className:"grid md:grid-cols-2 gap-6 p-6 bg-slate-900/50 rounded-lg border border-white/10",children:[(0,c.jsxs)("div",{className:"col-span-2 grid md:grid-cols-4 gap-4 pb-4 border-b border-white/5",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:"postalCode",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"郵便番号"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,placeholder:"123-4567",className:"bg-black border-white/20 font-mono"})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsx)("div",{className:"md:col-span-3",children:(0,c.jsx)(aD.FormField,{control:o.control,name:"address",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"住所"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,placeholder:"東京都渋谷区...",className:"bg-black border-white/20"})}),(0,c.jsx)(aD.FormMessage,{})]})})})]}),(0,c.jsx)(aD.FormField,{control:o.control,name:"phone",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"電話番号"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,placeholder:"03-1234-5678",className:"bg-black border-white/20 font-mono"})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:"email",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"店舗メールアドレス"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,placeholder:"store@example.com",className:"bg-black border-white/20 font-mono"})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsxs)("div",{className:"col-span-2 grid md:grid-cols-2 gap-6 pt-4 border-t border-white/5",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:"representative",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"代表者名"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,className:"bg-black border-white/20"})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:"representativeEmail",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"代表者メールアドレス"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,type:"email",className:"bg-black border-white/20 font-mono text-xs"})}),(0,c.jsx)(aD.FormMessage,{})]})})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:"manager",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"担当者名"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,className:"bg-black border-white/20"})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:"contactPersonEmail",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"担当者メールアドレス"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,type:"email",className:"bg-black border-white/20 font-mono text-xs"})}),(0,c.jsx)(aD.FormMessage,{})]})})]})]})]})]}),(0,c.jsxs)("section",{className:"space-y-4",children:[(0,c.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"割引設定 (学割・その他)"}),(0,c.jsxs)("div",{className:"grid md:grid-cols-2 gap-6",children:[(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10",children:[(0,c.jsx)(aI.CardHeader,{className:"py-4 border-b border-white/5",children:(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsxs)(aI.CardTitle,{className:"text-sm font-bold flex items-center gap-2",children:[(0,c.jsx)(bL.Users,{className:"w-4 h-4 text-cyan-400"})," 学割"]}),(0,c.jsx)(aD.FormField,{control:o.control,name:"studentDiscount.enabled",render:({field:a})=>(0,c.jsx)(aD.FormControl,{children:(0,c.jsxs)("div",{className:"flex items-center gap-2",children:[(0,c.jsx)("span",{className:"text-[10px] text-gray-500",children:a.value?"有効":"無効"}),(0,c.jsx)("input",{type:"checkbox",checked:a.value,onChange:a.onChange,className:"w-4 h-4 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"})]})})})]})}),(0,c.jsx)(aI.CardContent,{className:"pt-4 space-y-4",children:(0,c.jsxs)("div",{className:"flex gap-4",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:"studentDiscount.discountType",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{className:"flex-1",children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-gray-500",children:"割引形式"}),(0,c.jsxs)(co.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(co.SelectTrigger,{className:"bg-black border-white/10",children:(0,c.jsx)(co.SelectValue,{})})}),(0,c.jsxs)(co.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,c.jsx)(co.SelectItem,{value:"amount",children:"定額 (¥)"}),(0,c.jsx)(co.SelectItem,{value:"percentage",children:"定率 (%)"})]})]})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:"studentDiscount.value",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{className:"flex-1",children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-gray-500",children:"割引額/率"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"number",...a,className:"bg-black border-white/10 font-mono text-cyan-400"})})]})})]})})]}),(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10",children:[(0,c.jsxs)(aI.CardHeader,{className:"py-4 border-b border-white/5 flex flex-row items-center justify-between",children:[(0,c.jsx)(aI.CardTitle,{className:"text-sm font-bold",children:"その他の割引"}),(0,c.jsxs)(aC.Button,{type:"button",size:"sm",onClick:()=>z({name:"",enabled:!0,discountType:"percentage",value:0}),className:"h-7 text-[10px] bg-cyan-900/40 text-cyan-400 border border-cyan-500/30",children:[(0,c.jsx)(bD.Plus,{className:"w-3 h-3 mr-1"})," 追加"]})]}),(0,c.jsxs)(aI.CardContent,{className:"pt-4 space-y-4",children:[y.map((a,b)=>(0,c.jsxs)("div",{className:"p-3 bg-black/30 rounded border border-white/5 space-y-3",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:`otherDiscounts.${b}.name`,render:({field:a})=>(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,placeholder:"割引名 (例: 初回割引)",className:"h-7 bg-transparent border-none text-xs font-bold p-0 focus-visible:ring-0"})})}),(0,c.jsx)(aC.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>A(b),className:"h-6 w-6 text-gray-600 hover:text-red-400",children:(0,c.jsx)(bE.Trash2,{className:"h-3 w-3"})})]}),(0,c.jsxs)("div",{className:"flex gap-2",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:`otherDiscounts.${b}.discountType`,render:({field:a})=>(0,c.jsxs)(co.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(co.SelectTrigger,{className:"h-7 bg-black border-white/10 text-[10px] w-24",children:(0,c.jsx)(co.SelectValue,{})})}),(0,c.jsxs)(co.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,c.jsx)(co.SelectItem,{value:"amount",children:"定額"}),(0,c.jsx)(co.SelectItem,{value:"percentage",children:"定率"})]})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:`otherDiscounts.${b}.value`,render:({field:a})=>(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"number",...a,className:"h-7 bg-black border-white/10 text-[10px] font-mono"})})})]})]},a.id)),0===y.length&&(0,c.jsx)("p",{className:"text-center text-[10px] text-gray-600 py-4",children:"割引設定がありません"})]})]})]})]}),(0,c.jsxs)("section",{className:"space-y-4",children:[(0,c.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"個人練習設定"}),(0,c.jsx)(aI.Card,{className:"bg-slate-900 border-white/10",children:(0,c.jsx)(aI.CardContent,{className:"p-6",children:(0,c.jsxs)("div",{className:"grid md:grid-cols-2 gap-8",children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:"personalPracticeSettings.enabled",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{className:"flex flex-row items-center justify-between rounded-lg border border-white/5 p-4 bg-black/20",children:[(0,c.jsxs)("div",{className:"space-y-0.5",children:[(0,c.jsx)(aD.FormLabel,{className:"text-base",children:"個人練習予約の受付"}),(0,c.jsx)(aD.FormDescription,{children:"個人練習としての予約を許可するかどうか"})]}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)("input",{type:"checkbox",checked:a.value,onChange:a.onChange,className:"w-5 h-5 rounded border-gray-300 text-cyan-600 focus:ring-cyan-500"})})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:"personalPracticeSettings.maxPeople",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"利用可能人数制限 (人まで)"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"number",...a,className:"bg-black border-white/10 font-mono text-cyan-400"})}),(0,c.jsx)(aD.FormDescription,{children:"この人数以下の場合に個人練習料金（または設定）が適用されます。"}),(0,c.jsx)(aD.FormMessage,{})]})})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:"personalPracticeSettings.reservationWindowType",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"予約受付開始タイミング"}),(0,c.jsxs)(co.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(co.SelectTrigger,{className:"bg-black border-white/10",children:(0,c.jsx)(co.SelectValue,{})})}),(0,c.jsxs)(co.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,c.jsx)(co.SelectItem,{value:"hours",children:"時間前"}),(0,c.jsx)(co.SelectItem,{value:"days",children:"日前"})]})]})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:"personalPracticeSettings.reservationWindowValue",render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{children:"数値"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"number",...a,className:"bg-black border-white/10 font-mono text-cyan-400"})})]})})]}),(0,c.jsx)("p",{className:"text-[10px] text-gray-500",children:"例: 「24時間前」または「1日前」から個人練習の予約が可能になります。"})]})]})})})]}),(0,c.jsxs)("section",{className:"space-y-4",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center",children:[(0,c.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"スタジオ料金設定 (部屋ごと・時間ごと)"}),(0,c.jsxs)(aC.Button,{type:"button",onClick:()=>{q({name:`Studio ${p.length+1}`,description:"",images:[],basePrice:2e3,pricing:{weekday:{slots:[...cQ]},saturday:{slots:[...cQ]},sundayHoliday:{slots:[...cQ]}}})},variant:"outline",className:"border-cyan-500 text-cyan-400 hover:bg-cyan-950",children:[(0,c.jsx)(bD.Plus,{className:"mr-2 h-4 w-4"})," 新しいスタジオを追加"]})]}),(0,c.jsx)("div",{className:"grid gap-6",children:p.map((a,b)=>(0,c.jsxs)(aI.Card,{className:"bg-slate-900 border-white/10 overflow-hidden",children:[(0,c.jsxs)(aI.CardHeader,{className:"bg-white/5 flex flex-col gap-4 py-4",children:[(0,c.jsxs)("div",{className:"flex justify-between items-center w-full",children:[(0,c.jsxs)("div",{className:"flex items-center gap-4 flex-1",children:[(0,c.jsxs)(bC.Badge,{variant:"outline",className:"text-cyan-400 border-cyan-400",children:["Rm ",b+1]}),(0,c.jsx)(aD.FormField,{control:o.control,name:`rooms.${b}.name`,render:({field:a})=>(0,c.jsx)(aE.Input,{...a,placeholder:"Studio Name (e.g. A Studio)",className:"bg-black/50 border-none text-lg font-bold w-64 text-white placeholder:text-gray-600 focus-visible:ring-1 focus-visible:ring-cyan-500"})}),(0,c.jsxs)("div",{className:"flex items-center gap-2 ml-4",children:[(0,c.jsx)("span",{className:"text-[10px] text-gray-500 whitespace-nowrap",children:"基準料金:"}),(0,c.jsx)(aD.FormField,{control:o.control,name:`rooms.${b}.basePrice`,render:({field:a})=>(0,c.jsx)(aE.Input,{type:"number",...a,className:"h-7 w-20 bg-black/50 border-white/10 text-xs font-mono text-cyan-400"})}),(0,c.jsx)("span",{className:"text-[10px] text-gray-500",children:"円/h"})]})]}),(0,c.jsx)(aC.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>r(b),className:"text-gray-500 hover:text-red-400",children:(0,c.jsx)(bE.Trash2,{className:"h-5 w-5"})})]}),(0,c.jsxs)("div",{className:"grid md:grid-cols-2 gap-4 w-full",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:`rooms.${b}.description`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-gray-500",children:"部屋の説明"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aF.Textarea,{...a,placeholder:"部屋の説明 (例: ドラムセット完備、10畳)",className:"bg-black/50 border-white/10 min-h-[160px]"})}),(0,c.jsx)(aD.FormMessage,{})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:`rooms.${b}.images`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-gray-500",children:"部屋の写真"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(bV,{value:a.value||[],onChange:a.onChange})}),(0,c.jsx)(aD.FormMessage,{})]})})]})]}),(0,c.jsx)(aI.CardContent,{className:"p-6",children:(0,c.jsx)(by,{type:"single",collapsible:!0,className:"w-full",children:["weekday","saturday","sundayHoliday"].map(a=>(0,c.jsxs)(bz,{value:a,className:"border-white/10",children:[(0,c.jsx)(bA,{className:"hover:text-cyan-400",children:"weekday"===a?"平日料金":"saturday"===a?"土曜料金":"日祝料金"}),(0,c.jsx)(bB,{className:"pt-4",children:(0,c.jsx)("div",{className:"space-y-4",children:(o.watch(`rooms.${b}.pricing.${a}.slots`)||[]).map((d,e)=>(0,c.jsxs)("div",{className:"p-4 bg-black/20 rounded border border-white/5 space-y-4",children:[(0,c.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:`rooms.${b}.pricing.${a}.slots.${e}.start`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{className:"text-[10px] text-gray-500",children:"開始"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"text",placeholder:"10:00",...a,className:"h-8 bg-black w-20 border-white/10 text-xs"})})]})}),(0,c.jsx)("span",{className:"mb-2 text-gray-500 text-xs",children:"~"}),(0,c.jsx)(aD.FormField,{control:o.control,name:`rooms.${b}.pricing.${a}.slots.${e}.end`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{children:[(0,c.jsx)(aD.FormLabel,{className:"text-[10px] text-gray-500",children:"終了"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"text",placeholder:"24:00",...a,className:"h-8 bg-black w-20 border-white/10 text-xs"})})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:`rooms.${b}.pricing.${a}.slots.${e}.pricingType`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{className:"flex-1",children:[(0,c.jsx)(aD.FormLabel,{className:"text-[10px] text-gray-500",children:"設定タイプ"}),(0,c.jsxs)(co.Select,{onValueChange:a.onChange,defaultValue:a.value,children:[(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(co.SelectTrigger,{className:"h-8 bg-black border-white/10 text-xs",children:(0,c.jsx)(co.SelectValue,{})})}),(0,c.jsxs)(co.SelectContent,{className:"bg-slate-900 border-white/10 text-white",children:[(0,c.jsx)(co.SelectItem,{value:"fixed",children:"固定金額 (¥)"}),(0,c.jsx)(co.SelectItem,{value:"discount",children:"割引率 (%)"})]})]})]})}),"fixed"===o.watch(`rooms.${b}.pricing.${a}.slots.${e}.pricingType`)?(0,c.jsx)(aD.FormField,{control:o.control,name:`rooms.${b}.pricing.${a}.slots.${e}.price`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{className:"flex-1",children:[(0,c.jsx)(aD.FormLabel,{className:"text-[10px] text-gray-500",children:"1H料金 (¥)"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"number",...a,className:"h-8 bg-black border-white/10 font-mono text-cyan-400 text-xs"})})]})}):(0,c.jsx)(aD.FormField,{control:o.control,name:`rooms.${b}.pricing.${a}.slots.${e}.discountRate`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{className:"flex-1",children:[(0,c.jsx)(aD.FormLabel,{className:"text-[10px] text-gray-500",children:"割引率 (%)"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"number",...a,className:"h-8 bg-black border-white/10 font-mono text-orange-400 text-xs"})})]})})]}),"discount"===o.watch(`rooms.${b}.pricing.${a}.slots.${e}.pricingType`)&&(0,c.jsx)("p",{className:"text-[10px] text-gray-500 italic",children:"※基準料金（あれば）から自動計算されます。現在は各スロットで独立して設定されています。"})]},e))})})]},a))})})]},a.id))})]}),(0,c.jsxs)("section",{className:"space-y-4",children:[(0,c.jsx)("h2",{className:"text-xl font-bold border-l-4 border-cyan-500 pl-3",children:"オプション機材"}),(0,c.jsx)(aI.Card,{className:"bg-slate-900 border-white/10",children:(0,c.jsxs)(aI.CardContent,{className:"p-6 space-y-4",children:[s.map((a,b)=>(0,c.jsxs)("div",{className:"flex gap-4 items-end",children:[(0,c.jsx)(aD.FormField,{control:o.control,name:`equipmentOptions.${b}.name`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{className:"flex-[2]",children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-gray-500",children:"機材名"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{...a,className:"bg-black border-white/20"})})]})}),(0,c.jsx)(aD.FormField,{control:o.control,name:`equipmentOptions.${b}.pricePerHour`,render:({field:a})=>(0,c.jsxs)(aD.FormItem,{className:"flex-1",children:[(0,c.jsx)(aD.FormLabel,{className:"text-xs text-gray-500",children:"時間単価 (¥)"}),(0,c.jsx)(aD.FormControl,{children:(0,c.jsx)(aE.Input,{type:"number",...a,className:"bg-black border-white/20"})})]})}),(0,c.jsx)(aC.Button,{type:"button",variant:"ghost",size:"icon",onClick:()=>u(b),className:"mb-1 text-gray-500 hover:text-red-400 bg-white/5",children:(0,c.jsx)(bE.Trash2,{className:"h-5 w-5"})})]},a.id)),(0,c.jsxs)(aC.Button,{type:"button",onClick:()=>t({name:"",pricePerHour:500}),variant:"outline",className:"w-full border-dashed border-white/20 text-gray-400 hover:text-cyan-400 mt-4",children:[(0,c.jsx)(bD.Plus,{className:"mr-2 h-4 w-4"})," オプション機材を追加"]})]})})]})]})]})]})})})}a.s(["default",()=>cR],21041)}];

//# sourceMappingURL=music-studio-app_src_app_admin_%28protected%29_studios_%5Bid%5D_page_tsx_39d98f36._.js.map