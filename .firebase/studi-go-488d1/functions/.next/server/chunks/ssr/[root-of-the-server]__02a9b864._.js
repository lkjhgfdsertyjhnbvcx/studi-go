module.exports=[22734,(a,b,c)=>{b.exports=a.x("fs",()=>require("fs"))},35649,(a,b,c)=>{"use strict";Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"registerServerReference",{enumerable:!0,get:function(){return d.registerServerReference}});let d=a.r(68083)},87735,(a,b,c)=>{"use strict";function d(a){for(let b=0;b<a.length;b++){let c=a[b];if("function"!=typeof c)throw Object.defineProperty(Error(`A "use server" file can only export async functions, found ${typeof c}.
Read more: https://nextjs.org/docs/messages/invalid-use-server-value`),"__NEXT_ERROR_CODE",{value:"E352",enumerable:!1,configurable:!0})}}Object.defineProperty(c,"__esModule",{value:!0}),Object.defineProperty(c,"ensureServerEntryExports",{enumerable:!0,get:function(){return d}})},24380,a=>{"use strict";var b=a.i(35649),c=a.i(12437),d=a.i(54010);async function e(a){let b=a.get("email"),e=a.get("password");if(!b)return{success:!1,message:"メールアドレスを入力してください。"};let f=(await (0,d.getAllUsersFromFirestore)()).find(a=>a.email===b);return f?f.password?f.password!==e?{success:!1,message:"パスワードが間違っています。"}:((await (0,c.cookies)()).set("__session",JSON.stringify({type:"user",id:f.id,name:f.name}),{httpOnly:!0,secure:!0,path:"/",maxAge:604800}),{success:!0,message:"ログインしました。"}):{success:!1,message:"パスワードが設定されていません。「パスワードをお忘れですか？」から設定を行ってください。"}:{success:!1,message:"ユーザーが見つかりません。アカウント登録はお済みですか？"}}async function f(){return(await (0,c.cookies)()).delete("__session"),{success:!0}}async function g(){let a=await (0,c.cookies)(),b=a.get("__session")?.value;if(!b)return null;try{let a=JSON.parse(b);if("user"!==a.type)return null;return(await (0,d.getAllUsersFromFirestore)()).find(b=>b.id===a.id)||null}catch(a){return null}}(0,a.i(87735).ensureServerEntryExports)([e,f,g]),(0,b.registerServerReference)(e,"40fd6d66984b29bd424bd497fbe1777d05b6a3fb74",null),(0,b.registerServerReference)(f,"009837b3c5fe64d738d0768ba5c33970c0b39a09c2",null),(0,b.registerServerReference)(g,"00fd941a7429035171e0b748ef78c5506f25c02154",null),a.s(["getCurrentUser",()=>g,"loginAction",()=>e,"logoutAction",()=>f])},74668,a=>{"use strict";var b=a.i(24380);a.s([],21702),a.i(21702),a.s(["40fd6d66984b29bd424bd497fbe1777d05b6a3fb74",()=>b.loginAction],74668)}];

//# sourceMappingURL=%5Broot-of-the-server%5D__02a9b864._.js.map