module.exports=[50718,(a,b,c)=>{"use strict";b.exports=a.r(62144).vendored["react-ssr"].ReactDOM},14617,a=>{"use strict";let b=(0,a.i(13035).default)("map-pin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);a.s(["MapPin",()=>b],14617)},66814,a=>{"use strict";var b=a.i(10623);let c=(0,b.createServerReference)("00e4c93b8752da6310062bf7641dee775c057867ca",b.callServer,void 0,b.findSourceMapURL,"fetchStudios");a.s(["fetchStudios",()=>c])},45589,a=>{"use strict";let b=(0,a.i(13035).default)("building-2",[["path",{d:"M10 12h4",key:"a56b0p"}],["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M14 21v-3a2 2 0 0 0-4 0v3",key:"1rgiei"}],["path",{d:"M6 10H4a2 2 0 0 0-2 2v7a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-2",key:"secmi2"}],["path",{d:"M6 21V5a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v16",key:"16ra0t"}]]);a.s(["Building2",()=>b],45589)},50048,a=>{"use strict";let b=(0,a.i(13035).default)("loader-circle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);a.s(["Loader2",()=>b],50048)},4715,a=>{"use strict";var b=a.i(15334),c=a.i(94146);function d({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card",className:(0,c.cn)("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border py-6 shadow-sm",a),...d})}function e({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-header",className:(0,c.cn)("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-2 px-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",a),...d})}function f({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-title",className:(0,c.cn)("leading-none font-semibold",a),...d})}function g({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-description",className:(0,c.cn)("text-muted-foreground text-sm",a),...d})}function h({className:a,...d}){return(0,b.jsx)("div",{"data-slot":"card-content",className:(0,c.cn)("px-6",a),...d})}a.s(["Card",()=>d,"CardContent",()=>h,"CardDescription",()=>g,"CardHeader",()=>e,"CardTitle",()=>f])},89799,a=>{"use strict";let b=(0,a.i(13035).default)("plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],89799)},86907,a=>{"use strict";let b=(0,a.i(13035).default)("trash-2",[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]]);a.s(["Trash2",()=>b],86907)},87528,a=>{"use strict";var b=a.i(10623);let c=(0,b.createServerReference)("00c0bbb4b1415d1cd7c9373ddf7699da1ac1714148",b.callServer,void 0,b.findSourceMapURL,"createNewStudioAction");a.s(["createNewStudioAction",()=>c])},68930,a=>{"use strict";var b=a.i(10623);let c=(0,b.createServerReference)("40273ea227268ba866faf368020cc212388113d420",b.callServer,void 0,b.findSourceMapURL,"deleteStudioAction");a.s(["deleteStudioAction",()=>c])},84267,a=>{"use strict";var b=a.i(15334),c=a.i(66757),d=a.i(58016),e=a.i(18347),f=a.i(10425),g=a.i(4715),h=a.i(89799),i=a.i(45589),j=a.i(14617),k=a.i(50048),l=a.i(86907),m=a.i(66814),n=a.i(87528),o=a.i(68930),p=a.i(90732);function q(){let[a,q]=(0,c.useState)([]),[r,s]=(0,c.useState)(!0),t=(0,p.useRouter)(),u=async()=>{s(!0),q(await (0,m.fetchStudios)()),s(!1)};(0,c.useEffect)(()=>{u()},[]);let v=async()=>{if(!confirm("新しいスタジオを登録しますか？"))return;let a=await (0,n.createNewStudioAction)();t.push(`/admin/studios/${a}`)},w=async(a,b)=>{b.preventDefault(),b.stopPropagation(),confirm("本当に削除しますか？この操作は取り消せません。")&&(await (0,o.deleteStudioAction)(a),u())};return r?(0,b.jsxs)("div",{className:"min-h-screen bg-black text-white flex items-center justify-center",children:[(0,b.jsx)(k.Loader2,{className:"animate-spin mr-2"})," Loading..."]}):(0,b.jsx)("div",{className:"min-h-screen bg-black text-white p-10 font-sans",children:(0,b.jsxs)("div",{className:"max-w-6xl mx-auto",children:[(0,b.jsxs)("div",{className:"flex justify-between items-center mb-10 border-b border-white/10 pb-6",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-cyan-400",children:"スタジオ管理・一覧"}),(0,b.jsx)("p",{className:"text-gray-400",children:"登録されているスタジオを管理します。"})]}),(0,b.jsxs)(f.Button,{onClick:v,className:"bg-cyan-500 hover:bg-cyan-600 text-black font-bold",children:[(0,b.jsx)(h.Plus,{className:"mr-2 h-4 w-4"})," 新規登録"]})]}),(0,b.jsxs)("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6",children:[a.map(a=>(0,b.jsx)(d.default,{href:`/admin/studios/${a.id}`,className:"block group",children:(0,b.jsxs)(g.Card,{className:"bg-slate-900 border-white/10 group-hover:border-cyan-500 transition-all h-full relative overflow-hidden",children:[a.images&&a.images.length>0?(0,b.jsxs)("div",{className:"relative w-full h-40",children:[(0,b.jsx)(e.default,{src:a.images[0],alt:a.storeName,fill:!0,className:"object-cover"}),(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-t from-slate-900 to-transparent"})]}):(0,b.jsx)("div",{className:"w-full h-40 bg-zinc-800 flex items-center justify-center text-zinc-600",children:"No Image"}),(0,b.jsxs)(g.CardHeader,{children:[(0,b.jsxs)(g.CardTitle,{className:"text-xl text-white group-hover:text-cyan-400 flex items-center gap-2",children:[(0,b.jsx)(i.Building2,{className:"h-5 w-5"}),a.storeName]}),(0,b.jsxs)(g.CardDescription,{className:"flex items-center gap-1",children:[(0,b.jsx)(j.MapPin,{className:"h-3 w-3"}),a.address||"住所未設定"]})]}),(0,b.jsxs)(g.CardContent,{className:"space-y-2 text-sm text-gray-400",children:[(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"スタジオ数:"}),(0,b.jsxs)("span",{className:"text-white",children:[a.rooms?.length||0,"部屋"]})]}),(0,b.jsxs)("div",{className:"flex justify-between",children:[(0,b.jsx)("span",{children:"Email:"}),(0,b.jsx)("span",{className:"text-white truncate max-w-[150px]",children:a.email||"-"})]})]}),(0,b.jsx)("div",{className:"absolute top-4 right-4 opacity-0 group-hover:opacity-100 transition-opacity",children:(0,b.jsx)(f.Button,{variant:"ghost",size:"icon",className:"hover:bg-red-900/50 hover:text-red-400",onClick:b=>w(a.id,b),children:(0,b.jsx)(l.Trash2,{className:"h-4 w-4"})})})]})},a.id)),0===a.length&&(0,b.jsx)("div",{className:"col-span-full text-center py-20 text-gray-500 bg-white/5 rounded border border-dashed border-white/10",children:"スタジオが登録されていません。右上のボタンから追加してください。"})]})]})})}a.s(["default",()=>q])}];

//# sourceMappingURL=music-studio-app_d889cee0._.js.map